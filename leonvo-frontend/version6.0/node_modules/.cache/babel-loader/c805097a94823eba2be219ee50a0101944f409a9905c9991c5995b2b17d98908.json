{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/esnext.json.parse.js\";\nimport apiConfig from '@/config/api.config';\nimport axios from 'axios';\nexport default {\n  name: 'ProductDetail',\n  data() {\n    return {\n      product: null,\n      loading: true,\n      productId: null,\n      isFavorite: false,\n      feedbacks: [],\n      loadingFeedback: false,\n      showCheckoutDialog: false,\n      isCreatingOrder: false,\n      checkoutForm: {\n        province: '',\n        receiverAddress: '',\n        receiverName: '',\n        receiverPhone: '',\n        remark: ''\n      },\n      provinces: ['åŒ—äº¬å¸‚', 'å¤©æ´¥å¸‚', 'ä¸Šæµ·å¸‚', 'é‡åº†å¸‚', 'æ²³åŒ—çœ', 'å±±è¥¿çœ', 'è¾½å®çœ', 'å‰æ—çœ', 'é»‘é¾™æ±Ÿçœ', 'æ±Ÿè‹çœ', 'æµ™æ±Ÿçœ', 'å®‰å¾½çœ', 'ç¦å»ºçœ', 'æ±Ÿè¥¿çœ', 'å±±ä¸œçœ', 'æ²³å—çœ', 'æ¹–åŒ—çœ', 'æ¹–å—çœ', 'å¹¿ä¸œçœ', 'æµ·å—çœ', 'å››å·çœ', 'è´µå·çœ', 'äº‘å—çœ', 'é™•è¥¿çœ', 'ç”˜è‚ƒçœ', 'é’æµ·çœ', 'å°æ¹¾çœ', 'å†…è’™å¤è‡ªæ²»åŒº', 'å¹¿è¥¿å£®æ—è‡ªæ²»åŒº', 'è¥¿è—è‡ªæ²»åŒº', 'å®å¤å›æ—è‡ªæ²»åŒº', 'æ–°ç–†ç»´å¾å°”è‡ªæ²»åŒº', 'é¦™æ¸¯ç‰¹åˆ«è¡Œæ”¿åŒº', 'æ¾³é—¨ç‰¹åˆ«è¡Œæ”¿åŒº']\n    };\n  },\n  created() {\n    this.productId = this.$route.params.id;\n    this.fetchProductDetail();\n    this.checkFavoriteStatus();\n  },\n  mounted() {\n    // é¡µé¢åŠ è½½åæ»šåŠ¨åˆ°é¡¶éƒ¨\n    window.scrollTo(0, 0);\n  },\n  methods: {\n    // å¤„ç†å›¾ç‰‡URL\n    getImageUrl(picture) {\n      if (!picture) return '';\n      if (picture.startsWith('http://') || picture.startsWith('https://')) {\n        return picture;\n      }\n      // å¦‚æœæ˜¯ç›¸å¯¹è·¯å¾„ï¼Œæ‹¼æ¥åŸºç¡€URL\n      return `${apiConfig.baseURL}${picture.startsWith('/') ? picture : '/' + picture}`;\n    },\n    formatDateTime(dateString) {\n      if (!dateString) return '';\n      try {\n        const date = new Date(dateString);\n        return date.toLocaleString('zh-CN', {\n          year: 'numeric',\n          month: '2-digit',\n          day: '2-digit',\n          hour: '2-digit',\n          minute: '2-digit'\n        });\n      } catch (e) {\n        return dateString;\n      }\n    },\n    // è·å–å•†å“è¯¦æƒ…\n    async fetchProductDetail() {\n      this.loading = true;\n      try {\n        const url = apiConfig.product.getProductDetail(this.productId);\n        console.log('è¯·æ±‚å•†å“è¯¦æƒ…URL:', url);\n        const response = await fetch(url);\n\n        // é¦–å…ˆæ£€æŸ¥å“åº”çŠ¶æ€\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        const result = await response.json();\n        console.log('å•†å“è¯¦æƒ…æ¥å£è¿”å›:', result);\n\n        // æ ¹æ®åç«¯è¿”å›çš„æ ¼å¼è°ƒæ•´\n        if (result.code === 1 && result.data) {\n          const productData = result.data;\n          this.product = {\n            id: productData.pid,\n            name: productData.name || 'æœªå‘½åå•†å“',\n            price: productData.price || 0,\n            description: productData.description || '',\n            imageUrl: productData.picture || '',\n            brand: productData.brand || '',\n            rating: productData.rating,\n            stock: productData.stock || 0,\n            // è§„æ ¼ä¿¡æ¯\n            cpu: productData.cpu || productData.CPU,\n            gpu: productData.gpu || productData.GPU,\n            storage: productData.storage,\n            size: productData.size,\n            type: productData.type\n          };\n          console.log('å¤„ç†åçš„å•†å“æ•°æ®:', this.product);\n        } else {\n          this.product = null;\n          console.error('è·å–å•†å“è¯¦æƒ…å¤±è´¥:', result.msg || 'æœªçŸ¥é”™è¯¯');\n          this.showNotification('âŒ', result.msg || 'è·å–å•†å“è¯¦æƒ…å¤±è´¥');\n        }\n      } catch (error) {\n        console.error('è·å–å•†å“è¯¦æƒ…å¤±è´¥:', error);\n        this.product = null;\n        this.showNotification('âŒ', `è·å–å•†å“è¯¦æƒ…å¤±è´¥: ${error.message}`);\n      } finally {\n        this.loading = false;\n        this.loadFeedbacks();\n      }\n    },\n    async loadFeedbacks() {\n      if (!this.productId) return;\n      this.loadingFeedback = true;\n      try {\n        const res = await axios.get(apiConfig.feedback.getProductFeedbacks(this.productId));\n        if (res.data && res.data.code === 1) {\n          this.feedbacks = res.data.data || [];\n        } else if (Array.isArray(res.data)) {\n          // å…¼å®¹æ— åŒ…è£¹çš„è¿”å›\n          this.feedbacks = res.data;\n        } else {\n          this.feedbacks = [];\n        }\n      } catch (e) {\n        console.error('è·å–å•†å“è¯„ä»·å¤±è´¥', e);\n        this.feedbacks = [];\n      } finally {\n        this.loadingFeedback = false;\n      }\n    },\n    // è·å–æ˜Ÿæ˜Ÿè¯„åˆ†æ˜¾ç¤ºï¼ˆå°†100åˆ†åˆ¶è½¬æ¢ä¸º5æ˜Ÿåˆ¶ï¼‰\n    getStarRating(rating) {\n      if (!rating) return 'â˜†â˜†â˜†â˜†â˜†';\n      const starRating = rating / 20;\n      const fullStars = Math.floor(starRating);\n      const halfStar = starRating - fullStars >= 0.5;\n      const emptyStars = 5 - fullStars - (halfStar ? 1 : 0);\n      let stars = '';\n      for (let i = 0; i < fullStars; i++) stars += 'â˜…';\n      if (halfStar) stars += 'â˜†';\n      for (let i = 0; i < emptyStars; i++) stars += 'â˜†';\n      return stars;\n    },\n    // æ·»åŠ åˆ°è´­ç‰©è½¦ï¼ˆè°ƒç”¨åç«¯æ¥å£ï¼Œå¸¦ç¡®è®¤å¼¹çª—ï¼‰\n    async addToCart() {\n      const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';\n      if (!isLoggedIn) {\n        this.showNotification('âš ï¸', 'è¯·å…ˆç™»å½•æ‰èƒ½æ·»åŠ åˆ°è´­ç‰©è½¦ï¼');\n        setTimeout(() => {\n          this.$router.push('/login');\n        }, 1500);\n        return;\n      }\n      if (this.product.stock <= 0) {\n        this.showNotification('âŒ', 'å•†å“å·²å”®ç½„');\n        return;\n      }\n\n      // æ˜¾ç¤ºç¡®è®¤å¼¹çª—\n      if (!confirm(`ç¡®å®šè¦å°†\"${this.product.name}\"æ·»åŠ åˆ°è´­ç‰©è½¦å—ï¼Ÿ`)) {\n        return;\n      }\n      try {\n        const userId = localStorage.getItem('userId');\n        if (!userId) {\n          this.showNotification('âŒ', 'æœªæ‰¾åˆ°ç”¨æˆ·IDï¼Œè¯·é‡æ–°ç™»å½•');\n          return;\n        }\n        const productId = this.product.pid || this.product.id;\n        const bid = this.product.bid || 1;\n\n        // å…ˆæ£€æŸ¥è´­ç‰©è½¦ä¸­æ˜¯å¦å·²æœ‰è¯¥å•†å“\n        try {\n          const cartResponse = await axios.get(apiConfig.user.getUserCart(userId));\n          if (cartResponse.data.code === 1 && cartResponse.data.data) {\n            const existingItem = cartResponse.data.data.find(item => item.pid == productId);\n            if (existingItem) {\n              // å¦‚æœå·²å­˜åœ¨ï¼Œæ›´æ–°æ•°é‡\n              const updateResponse = await axios.put(apiConfig.user.updateCartQuantity, {\n                uid: userId,\n                cid: existingItem.cid,\n                quantity: existingItem.quantity + 1\n              });\n              if (updateResponse.data.code === 1) {\n                this.showNotification('ğŸ›’', `${this.product.name} å·²æ›´æ–°åˆ°è´­ç‰©è½¦ï¼ˆæ•°é‡+1ï¼‰`);\n              } else {\n                this.showNotification('âŒ', updateResponse.data.msg || 'æ›´æ–°å¤±è´¥');\n              }\n              return;\n            }\n          }\n        } catch (error) {\n          console.error('æ£€æŸ¥è´­ç‰©è½¦å¤±è´¥:', error);\n        }\n\n        // å¦‚æœä¸å­˜åœ¨ï¼Œæ·»åŠ æ–°å•†å“\n        const response = await axios.post(apiConfig.user.addToCart, {\n          uid: userId,\n          pid: productId,\n          bid: bid,\n          quantity: 1\n        });\n        if (response.data.code === 1) {\n          this.showNotification('ğŸ›’', `${this.product.name} å·²åŠ å…¥è´­ç‰©è½¦`);\n        } else {\n          this.showNotification('âŒ', response.data.msg || 'æ·»åŠ åˆ°è´­ç‰©è½¦å¤±è´¥');\n        }\n      } catch (error) {\n        console.error('æ·»åŠ åˆ°è´­ç‰©è½¦å¤±è´¥:', error);\n        this.showNotification('âŒ', 'æ·»åŠ åˆ°è´­ç‰©è½¦å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•');\n      }\n    },\n    // ç«‹å³è´­ä¹°\n    async buyNow() {\n      const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';\n      if (!isLoggedIn) {\n        this.showNotification('âš ï¸', 'è¯·å…ˆç™»å½•æ‰èƒ½è´­ä¹°å•†å“ï¼');\n        setTimeout(() => {\n          this.$router.push('/login');\n        }, 1500);\n        return;\n      }\n      if (this.product.stock <= 0) {\n        this.showNotification('âŒ', 'å•†å“å·²å”®ç½„');\n        return;\n      }\n\n      // æ‰“å¼€å•å“ç»“ç®—å¼¹çª—\n      this.checkoutForm = {\n        province: '',\n        receiverAddress: '',\n        receiverName: '',\n        receiverPhone: '',\n        remark: ''\n      };\n      this.showCheckoutDialog = true;\n    },\n    closeCheckoutDialog() {\n      this.showCheckoutDialog = false;\n    },\n    async submitSingleOrder() {\n      // è¡¨å•æ ¡éªŒ\n      if (!this.checkoutForm.province) {\n        alert('è¯·é€‰æ‹©çœä»½');\n        return;\n      }\n      if (!this.checkoutForm.receiverAddress || !this.checkoutForm.receiverAddress.trim()) {\n        alert('è¯·è¾“å…¥è¯¦ç»†åœ°å€');\n        return;\n      }\n      if (!this.checkoutForm.receiverName || !this.checkoutForm.receiverName.trim()) {\n        alert('è¯·è¾“å…¥æ”¶è´§äººå§“å');\n        return;\n      }\n      if (!this.checkoutForm.receiverPhone || !this.checkoutForm.receiverPhone.trim()) {\n        alert('è¯·è¾“å…¥è”ç³»ç”µè¯');\n        return;\n      }\n      const phoneRegex = /^1[3-9]\\d{9}$/;\n      if (!phoneRegex.test(this.checkoutForm.receiverPhone.trim())) {\n        alert('è¯·è¾“å…¥æ­£ç¡®çš„æ‰‹æœºå·ç ');\n        return;\n      }\n      const userId = localStorage.getItem('userId');\n      if (!userId) {\n        alert('æœªæ‰¾åˆ°ç”¨æˆ·IDï¼Œè¯·é‡æ–°ç™»å½•');\n        this.$router.push('/login');\n        return;\n      }\n      this.isCreatingOrder = true;\n      try {\n        const pid = this.product.pid || this.product.id;\n        const orderData = {\n          uid: parseInt(userId),\n          items: [{\n            pid,\n            quantity: 1,\n            bid: this.product.bid || 1\n          }],\n          province: this.checkoutForm.province,\n          receiverAddress: this.checkoutForm.receiverAddress.trim(),\n          receiverName: this.checkoutForm.receiverName.trim(),\n          receiverPhone: this.checkoutForm.receiverPhone.trim(),\n          remark: this.checkoutForm.remark.trim() || '',\n          status: 0 // æ–°å»ºè®¢å•é»˜è®¤å¾…å‘è´§\n        };\n        const response = await axios.post(apiConfig.order.createOrder, orderData);\n        if (response.data.code === 1) {\n          const orderId = response.data.data;\n          this.showNotification('âœ…', `è®¢å•åˆ›å»ºæˆåŠŸï¼è®¢å•å·ï¼š${orderId}`);\n          this.closeCheckoutDialog();\n          this.$router.push('/user/orders');\n        } else {\n          alert(response.data.msg || 'åˆ›å»ºè®¢å•å¤±è´¥');\n        }\n      } catch (error) {\n        console.error('åˆ›å»ºè®¢å•å¤±è´¥:', error);\n        if (error.response && error.response.data) {\n          alert(error.response.data.msg || 'åˆ›å»ºè®¢å•å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•');\n        } else {\n          alert('åˆ›å»ºè®¢å•å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•');\n        }\n      } finally {\n        this.isCreatingOrder = false;\n      }\n    },\n    // æ”¶è—å•†å“\n    async toggleFavorite() {\n      try {\n        const token = localStorage.getItem('token');\n        if (!token) {\n          this.showNotification('âš ï¸', 'è¯·å…ˆç™»å½•');\n          return;\n        }\n        let favorites = JSON.parse(localStorage.getItem('lenovo_favorites') || '[]');\n        if (this.isFavorite) {\n          favorites = favorites.filter(id => id !== this.productId);\n          this.showNotification('ğŸ’”', `å·²å–æ¶ˆæ”¶è— ${this.product.name}`);\n        } else {\n          if (!favorites.includes(this.productId)) {\n            favorites.push(this.productId);\n          }\n          this.showNotification('â¤ï¸', `å·²æ”¶è— ${this.product.name}`);\n        }\n        localStorage.setItem('lenovo_favorites', JSON.stringify(favorites));\n        this.isFavorite = !this.isFavorite;\n      } catch (error) {\n        console.error('æ”¶è—æ“ä½œå¤±è´¥:', error);\n        this.showNotification('âŒ', 'æ“ä½œå¤±è´¥');\n      }\n    },\n    checkFavoriteStatus() {\n      const favorites = JSON.parse(localStorage.getItem('lenovo_favorites') || '[]');\n      this.isFavorite = favorites.includes(parseInt(this.productId));\n    },\n    goBack() {\n      this.$router.push('/');\n    },\n    viewFullImage() {\n      const imageUrl = this.getImageUrl(this.product.imageUrl);\n      if (imageUrl) {\n        window.open(imageUrl, '_blank');\n      } else {\n        this.showNotification('âš ï¸', 'è¯¥å•†å“æš‚æ— å¤§å›¾');\n      }\n    },\n    showNotification(icon, message) {\n      const notification = document.createElement('div');\n      notification.className = 'green-notification';\n      notification.innerHTML = `\n        <div class=\"notification-content\">\n          <span class=\"notification-icon\">${icon}</span>\n          <span>${message}</span>\n        </div>\n      `;\n      document.body.appendChild(notification);\n      setTimeout(() => {\n        notification.classList.add('show');\n      }, 10);\n      setTimeout(() => {\n        notification.classList.remove('show');\n        setTimeout(() => {\n          document.body.removeChild(notification);\n        }, 300);\n      }, 3000);\n    }\n  }\n};","map":{"version":3,"names":["apiConfig","axios","name","data","product","loading","productId","isFavorite","feedbacks","loadingFeedback","showCheckoutDialog","isCreatingOrder","checkoutForm","province","receiverAddress","receiverName","receiverPhone","remark","provinces","created","$route","params","id","fetchProductDetail","checkFavoriteStatus","mounted","window","scrollTo","methods","getImageUrl","picture","startsWith","baseURL","formatDateTime","dateString","date","Date","toLocaleString","year","month","day","hour","minute","e","url","getProductDetail","console","log","response","fetch","ok","Error","status","result","json","code","productData","pid","price","description","imageUrl","brand","rating","stock","cpu","CPU","gpu","GPU","storage","size","type","error","msg","showNotification","message","loadFeedbacks","res","get","feedback","getProductFeedbacks","Array","isArray","getStarRating","starRating","fullStars","Math","floor","halfStar","emptyStars","stars","i","addToCart","isLoggedIn","localStorage","getItem","setTimeout","$router","push","confirm","userId","bid","cartResponse","user","getUserCart","existingItem","find","item","updateResponse","put","updateCartQuantity","uid","cid","quantity","post","buyNow","closeCheckoutDialog","submitSingleOrder","alert","trim","phoneRegex","test","orderData","parseInt","items","order","createOrder","orderId","toggleFavorite","token","favorites","JSON","parse","filter","includes","setItem","stringify","goBack","viewFullImage","open","icon","notification","document","createElement","className","innerHTML","body","appendChild","classList","add","remove","removeChild"],"sources":["D:\\1_homework_file\\å¤§ä¸‰ä¸Š\\è½¯ä»¶å·¥ç¨‹\\é¡¹ç›®ç•™æ¡£\\1å‰ç«¯å¼€å‘_æˆ‘æ‰æ˜¯çœŸçš„\\version5.0\\src\\components\\ProductDetail.vue"],"sourcesContent":["<template>\r\n  <div class=\"product-detail\">\r\n    <!-- å•†å“è¯¦æƒ… -->\r\n    <div v-if=\"loading\" class=\"loading\">\r\n      <div class=\"spinner-container\">\r\n        <div class=\"spinner\"></div>\r\n        <div class=\"spinner-inner\"></div>\r\n      </div>\r\n      <p>åŠ è½½å•†å“è¯¦æƒ…ä¸­...</p>\r\n    </div>\r\n\r\n    <div v-else-if=\"product\" class=\"detail-container\">\r\n      <!-- å•†å“åŸºæœ¬ä¿¡æ¯ -->\r\n      <div class=\"product-header\">\r\n        <!-- è¿”å›æŒ‰é’®æ•´åˆåˆ°é¡µçœ‰ä¸­ -->\r\n        <div class=\"header-top\">\r\n          <button @click=\"goBack\" class=\"back-btn-header\">\r\n            <span class=\"back-icon\">â†</span>\r\n            è¿”å›å•†å“åˆ—è¡¨\r\n          </button>\r\n        </div>\r\n\r\n        <div class=\"header-content\">\r\n          <div class=\"title-section\">\r\n            <h1>{{ product.name }}</h1>\r\n          </div>\r\n\r\n          <div class=\"product-meta\">\r\n            <div class=\"meta-group\">\r\n              <span class=\"meta-item brand\">\r\n                <span class=\"meta-icon\">ğŸ·ï¸</span>\r\n                <span class=\"meta-value\">{{ product.brand || 'è”æƒ³' }}</span>\r\n              </span>\r\n              <span class=\"meta-item rating\">\r\n                <span class=\"meta-icon\">â­</span>\r\n                <span class=\"meta-value\">{{ product.rating ? (product.rating / 20).toFixed(1) : 4.5 }}</span>\r\n              </span>\r\n              <span class=\"meta-item stock\" :class=\"{ 'low-stock': product.stock < 10 }\">\r\n                <span class=\"meta-icon\">ğŸ“¦</span>\r\n                <span class=\"meta-value\">{{ product.stock || 0 }}ä»¶</span>\r\n              </span>\r\n            </div>\r\n            <div class=\"price-display\">\r\n              <span class=\"price-tag\">Â¥{{ product.price ? product.price.toLocaleString() : '0' }}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"detail-content\">\r\n        <!-- å·¦ä¾§ï¼šå›¾ç‰‡å’Œä»·æ ¼ -->\r\n        <div class=\"left-column\">\r\n          <div class=\"product-image-section\">\r\n            <div class=\"image-container\">\r\n              <img :src=\"getImageUrl(product.imageUrl)\" :alt=\"product.name\" class=\"product-image-large\" />\r\n              <div v-if=\"!product.imageUrl\" class=\"image-placeholder-large\">\r\n                <span class=\"placeholder-icon\">ğŸŒ¿</span>\r\n                <span>æš‚æ— å›¾ç‰‡</span>\r\n              </div>\r\n            </div>\r\n            <div class=\"image-actions\">\r\n              <button class=\"btn-action\" @click=\"viewFullImage\">\r\n                <span class=\"action-icon\">ğŸ”</span>\r\n                æŸ¥çœ‹å¤§å›¾\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- ä»·æ ¼ç›’å­ -->\r\n          <div class=\"price-box\">\r\n            <div class=\"price-section\">\r\n              <div class=\"price-header\">\r\n                <span class=\"price-label\">å•†å“ä»·æ ¼</span>\r\n              </div>\r\n              <div class=\"current-price\">\r\n                <span class=\"price-value\">Â¥{{ product.price ? product.price.toLocaleString() : '0' }}</span>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"action-buttons\">\r\n              <button class=\"btn-add-to-cart\" @click=\"addToCart\" :disabled=\"product.stock <= 0\">\r\n                <span class=\"cart-icon\">ğŸ›’</span>\r\n                {{ product.stock > 0 ? 'åŠ å…¥è´­ç‰©è½¦' : 'å·²å”®ç½„' }}\r\n              </button>\r\n              <button class=\"btn-buy\" @click=\"buyNow\" :disabled=\"product.stock <= 0\">\r\n                <span class=\"buy-icon\">âš¡</span>\r\n                {{ product.stock > 0 ? 'ç«‹å³è´­ä¹°' : 'åº“å­˜ä¸è¶³' }}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- å³ä¾§ï¼šè¯¦ç»†ä¿¡æ¯ -->\r\n        <div class=\"right-column\">\r\n          <!-- å•†å“æè¿° -->\r\n          <div class=\"description-section\" v-if=\"product.description\">\r\n            <div class=\"section-header\">\r\n              <h3>\r\n                <span class=\"section-icon\">ğŸ“</span>\r\n                å•†å“æè¿°\r\n              </h3>\r\n            </div>\r\n            <div class=\"description-content\">\r\n              <p>{{ product.description }}</p>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- è§„æ ¼ä¿¡æ¯ -->\r\n          <div class=\"specifications-section\">\r\n            <div class=\"section-header\">\r\n              <h3>\r\n                <span class=\"section-icon\">âš™ï¸</span>\r\n                å•†å“è§„æ ¼\r\n              </h3>\r\n            </div>\r\n            <div class=\"specs-content\">\r\n              <div class=\"spec-row\" v-if=\"product.cpu\">\r\n                <span class=\"spec-label\">å¤„ç†å™¨ï¼š</span>\r\n                <span class=\"spec-value\">{{ product.cpu }}</span>\r\n              </div>\r\n              <div class=\"spec-row\" v-if=\"product.gpu\">\r\n                <span class=\"spec-label\">æ˜¾å¡ï¼š</span>\r\n                <span class=\"spec-value\">{{ product.gpu }}</span>\r\n              </div>\r\n              <div class=\"spec-row\" v-if=\"product.storage\">\r\n                <span class=\"spec-label\">å­˜å‚¨ï¼š</span>\r\n                <span class=\"spec-value\">{{ product.storage }}</span>\r\n              </div>\r\n              <div class=\"spec-row\" v-if=\"product.size\">\r\n                <span class=\"spec-label\">å°ºå¯¸ï¼š</span>\r\n                <span class=\"spec-value\">{{ product.size }}</span>\r\n              </div>\r\n              <div class=\"spec-row\" v-if=\"product.type\">\r\n                <span class=\"spec-label\">ç±»å‹ï¼š</span>\r\n                <span class=\"spec-value\">{{ product.type }}</span>\r\n              </div>\r\n              <div class=\"spec-row\" v-if=\"!product.cpu && !product.gpu && !product.storage && !product.size && !product.type\">\r\n                <span class=\"spec-value\">æš‚æ— è§„æ ¼ä¿¡æ¯</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- è¯„è®ºåˆ—è¡¨ -->\r\n          <div class=\"comments-section\">\r\n            <div class=\"section-header\">\r\n              <h3>\r\n                <span class=\"section-icon\">ğŸ’¬</span>\r\n                å•†å“è¯„ä»·\r\n              </h3>\r\n            </div>\r\n            <div v-if=\"loadingFeedback\" class=\"comments-loading\">åŠ è½½è¯„ä»·ä¸­...</div>\r\n            <div v-else-if=\"feedbacks.length === 0\" class=\"comments-empty\">æš‚æ—¶è¿˜æ²¡æœ‰è¯„ä»·</div>\r\n            <div v-else class=\"comments-list\">\r\n              <div v-for=\"fb in feedbacks\" :key=\"fb.id || fb.fid\" class=\"comment-item\">\r\n                <div class=\"comment-avatar\">{{ (fb.username || 'ç”¨æˆ¶')[0] || 'ç”¨' }}</div>\r\n                <div class=\"comment-body\">\r\n                  <div class=\"comment-header\">\r\n                    <span class=\"comment-user\">{{ fb.username || 'ç”¨æˆ·' }}</span>\r\n                    <span class=\"comment-stars\">\r\n                      <span v-for=\"n in 5\" :key=\"n\" class=\"star\" :class=\"{ active: (fb.star || 0) >= n }\">â˜…</span>\r\n                    </span>\r\n                    <span class=\"comment-time\">{{ formatDateTime(fb.createTime || fb.createdTime || fb.created_at) }}</span>\r\n                  </div>\r\n                  <div class=\"comment-text\">{{ fb.comment || 'ï¼ˆæ— æ–‡å­—è¯„ä»·ï¼‰' }}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- åŸºæœ¬ä¿¡æ¯ -->\r\n          <div class=\"basic-info\">\r\n            <div class=\"section-header\">\r\n              <h3>\r\n                <span class=\"section-icon\">â„¹ï¸</span>\r\n                åŸºæœ¬ä¿¡æ¯\r\n              </h3>\r\n            </div>\r\n            <div class=\"info-content\">\r\n              <div class=\"info-row\">\r\n                <span class=\"info-icon\">ğŸ”¢</span>\r\n                <span class=\"info-label\">å•†å“IDï¼š</span>\r\n                <span class=\"info-value\">{{ product.id }}</span>\r\n              </div>\r\n              <div class=\"info-row\" v-if=\"product.brand\">\r\n                <span class=\"info-icon\">ğŸ·ï¸</span>\r\n                <span class=\"info-label\">å“ç‰Œï¼š</span>\r\n                <span class=\"info-value\">{{ product.brand }}</span>\r\n              </div>\r\n              <div class=\"info-row\">\r\n                <span class=\"info-icon\">ğŸ“ˆ</span>\r\n                <span class=\"info-label\">è¯„åˆ†ï¼š</span>\r\n                <span class=\"info-value rating-stars\">\r\n                  <span class=\"stars\">{{ getStarRating(product.rating) }}</span>\r\n                  {{ product.rating ? (product.rating / 20).toFixed(1) : 'æš‚æ— ' }}\r\n                </span>\r\n              </div>\r\n              <div class=\"info-row\">\r\n                <span class=\"info-icon\">ğŸ“¦</span>\r\n                <span class=\"info-label\">åº“å­˜ï¼š</span>\r\n                <span :class=\"[\r\n                  'info-value',\r\n                  product.stock > 10 ? 'stock-available' : 'stock-low'\r\n                ]\">\r\n                  {{ product.stock || 0 }}ä»¶\r\n                  <span v-if=\"product.stock <= 10 && product.stock > 0\" class=\"low-stock-text\">(åº“å­˜ç´§å¼ )</span>\r\n                  <span v-if=\"product.stock === 0\" class=\"sold-out-text\">(å·²å”®ç½„)</span>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-else class=\"not-found\">\r\n      <div class=\"empty-state\">\r\n        <div class=\"empty-icon\">âŒ</div>\r\n        <h2>å•†å“ä¸å­˜åœ¨</h2>\r\n        <p>æŠ±æ­‰ï¼Œæ²¡æœ‰æ‰¾åˆ°æ‚¨è¦æŸ¥çœ‹çš„å•†å“ã€‚</p>\r\n        <button @click=\"goBack\" class=\"btn-back-to-list\">\r\n          <span class=\"back-icon\">â†</span>\r\n          è¿”å›å•†å“åˆ—è¡¨\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- å•å“ç»“ç®—å¯¹è¯æ¡† -->\r\n  <div v-if=\"showCheckoutDialog\" class=\"checkout-dialog-overlay\" @click.self=\"closeCheckoutDialog\">\r\n    <div class=\"checkout-dialog\">\r\n      <div class=\"dialog-header\">\r\n        <h2>å¡«å†™æ”¶è´§ä¿¡æ¯</h2>\r\n        <button @click=\"closeCheckoutDialog\" class=\"close-btn\">âœ•</button>\r\n      </div>\r\n      <div class=\"dialog-content\">\r\n        <div class=\"form-group\">\r\n          <label>çœä»½ï¼š<span class=\"required\">*</span></label>\r\n          <select v-model=\"checkoutForm.province\" class=\"form-input\" required>\r\n            <option value=\"\">è¯·é€‰æ‹©çœä»½</option>\r\n            <option v-for=\"p in provinces\" :key=\"p\" :value=\"p\">{{ p }}</option>\r\n          </select>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label>è¯¦ç»†åœ°å€ï¼š<span class=\"required\">*</span></label>\r\n          <input\r\n            v-model=\"checkoutForm.receiverAddress\"\r\n            type=\"text\"\r\n            class=\"form-input\"\r\n            placeholder=\"è¯·è¾“å…¥è¯¦ç»†åœ°å€\"\r\n            required\r\n          >\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label>æ”¶è´§äººå§“åï¼š<span class=\"required\">*</span></label>\r\n          <input\r\n            v-model=\"checkoutForm.receiverName\"\r\n            type=\"text\"\r\n            class=\"form-input\"\r\n            placeholder=\"è¯·è¾“å…¥æ”¶è´§äººå§“å\"\r\n            required\r\n          >\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label>è”ç³»ç”µè¯ï¼š<span class=\"required\">*</span></label>\r\n          <input\r\n            v-model=\"checkoutForm.receiverPhone\"\r\n            type=\"tel\"\r\n            class=\"form-input\"\r\n            placeholder=\"è¯·è¾“å…¥æ‰‹æœºå·\"\r\n            required\r\n          >\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label>å¤‡æ³¨ï¼š</label>\r\n          <textarea\r\n            v-model=\"checkoutForm.remark\"\r\n            class=\"form-input\"\r\n            rows=\"2\"\r\n            placeholder=\"é€‰å¡«ï¼Œç»™å•†å®¶çš„ç•™è¨€\"\r\n          ></textarea>\r\n        </div>\r\n      </div>\r\n      <div class=\"dialog-footer\">\r\n        <button class=\"btn-cancel\" @click=\"closeCheckoutDialog\">å–æ¶ˆ</button>\r\n        <button class=\"btn-confirm\" @click=\"submitSingleOrder\" :disabled=\"isCreatingOrder\">\r\n          {{ isCreatingOrder ? 'æäº¤ä¸­...' : 'ç¡®è®¤ä¸‹å•' }}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport apiConfig from '@/config/api.config';\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'ProductDetail',\r\n  data() {\r\n    return {\r\n      product: null,\r\n      loading: true,\r\n      productId: null,\r\n      isFavorite: false,\r\n      feedbacks: [],\r\n      loadingFeedback: false,\r\n      showCheckoutDialog: false,\r\n      isCreatingOrder: false,\r\n      checkoutForm: {\r\n        province: '',\r\n        receiverAddress: '',\r\n        receiverName: '',\r\n        receiverPhone: '',\r\n        remark: ''\r\n      },\r\n      provinces: [\r\n        'åŒ—äº¬å¸‚', 'å¤©æ´¥å¸‚', 'ä¸Šæµ·å¸‚', 'é‡åº†å¸‚',\r\n        'æ²³åŒ—çœ', 'å±±è¥¿çœ', 'è¾½å®çœ', 'å‰æ—çœ', 'é»‘é¾™æ±Ÿçœ',\r\n        'æ±Ÿè‹çœ', 'æµ™æ±Ÿçœ', 'å®‰å¾½çœ', 'ç¦å»ºçœ', 'æ±Ÿè¥¿çœ', 'å±±ä¸œçœ',\r\n        'æ²³å—çœ', 'æ¹–åŒ—çœ', 'æ¹–å—çœ', 'å¹¿ä¸œçœ', 'æµ·å—çœ',\r\n        'å››å·çœ', 'è´µå·çœ', 'äº‘å—çœ', 'é™•è¥¿çœ', 'ç”˜è‚ƒçœ', 'é’æµ·çœ', 'å°æ¹¾çœ',\r\n        'å†…è’™å¤è‡ªæ²»åŒº', 'å¹¿è¥¿å£®æ—è‡ªæ²»åŒº', 'è¥¿è—è‡ªæ²»åŒº', 'å®å¤å›æ—è‡ªæ²»åŒº', 'æ–°ç–†ç»´å¾å°”è‡ªæ²»åŒº',\r\n        'é¦™æ¸¯ç‰¹åˆ«è¡Œæ”¿åŒº', 'æ¾³é—¨ç‰¹åˆ«è¡Œæ”¿åŒº'\r\n      ]\r\n    };\r\n  },\r\n  created() {\r\n    this.productId = this.$route.params.id;\r\n    this.fetchProductDetail();\r\n    this.checkFavoriteStatus();\r\n  },\r\n  mounted() {\r\n    // é¡µé¢åŠ è½½åæ»šåŠ¨åˆ°é¡¶éƒ¨\r\n    window.scrollTo(0, 0);\r\n  },\r\n  methods: {\r\n    // å¤„ç†å›¾ç‰‡URL\r\n    getImageUrl(picture) {\r\n      if (!picture) return '';\r\n      if (picture.startsWith('http://') || picture.startsWith('https://')) {\r\n        return picture;\r\n      }\r\n      // å¦‚æœæ˜¯ç›¸å¯¹è·¯å¾„ï¼Œæ‹¼æ¥åŸºç¡€URL\r\n      return `${apiConfig.baseURL}${picture.startsWith('/') ? picture : '/' + picture}`;\r\n    },\r\n    formatDateTime(dateString) {\r\n      if (!dateString) return '';\r\n      try {\r\n        const date = new Date(dateString);\r\n        return date.toLocaleString('zh-CN', {\r\n          year: 'numeric',\r\n          month: '2-digit',\r\n          day: '2-digit',\r\n          hour: '2-digit',\r\n          minute: '2-digit'\r\n        });\r\n      } catch (e) {\r\n        return dateString;\r\n      }\r\n    },\r\n\r\n    // è·å–å•†å“è¯¦æƒ…\r\n    async fetchProductDetail() {\r\n      this.loading = true;\r\n      try {\r\n        const url = apiConfig.product.getProductDetail(this.productId);\r\n        console.log('è¯·æ±‚å•†å“è¯¦æƒ…URL:', url);\r\n\r\n        const response = await fetch(url);\r\n\r\n        // é¦–å…ˆæ£€æŸ¥å“åº”çŠ¶æ€\r\n        if (!response.ok) {\r\n          throw new Error(`HTTP error! status: ${response.status}`);\r\n        }\r\n\r\n        const result = await response.json();\r\n\r\n        console.log('å•†å“è¯¦æƒ…æ¥å£è¿”å›:', result);\r\n\r\n        // æ ¹æ®åç«¯è¿”å›çš„æ ¼å¼è°ƒæ•´\r\n        if (result.code === 1 && result.data) {\r\n          const productData = result.data;\r\n\r\n          this.product = {\r\n            id: productData.pid,\r\n            name: productData.name || 'æœªå‘½åå•†å“',\r\n            price: productData.price || 0,\r\n            description: productData.description || '',\r\n            imageUrl: productData.picture || '',\r\n            brand: productData.brand || '',\r\n            rating: productData.rating,\r\n            stock: productData.stock || 0,\r\n            // è§„æ ¼ä¿¡æ¯\r\n            cpu: productData.cpu || productData.CPU,\r\n            gpu: productData.gpu || productData.GPU,\r\n            storage: productData.storage,\r\n            size: productData.size,\r\n            type: productData.type\r\n          };\r\n\r\n          console.log('å¤„ç†åçš„å•†å“æ•°æ®:', this.product);\r\n        } else {\r\n          this.product = null;\r\n          console.error('è·å–å•†å“è¯¦æƒ…å¤±è´¥:', result.msg || 'æœªçŸ¥é”™è¯¯');\r\n          this.showNotification('âŒ', result.msg || 'è·å–å•†å“è¯¦æƒ…å¤±è´¥');\r\n        }\r\n      } catch (error) {\r\n        console.error('è·å–å•†å“è¯¦æƒ…å¤±è´¥:', error);\r\n        this.product = null;\r\n        this.showNotification('âŒ', `è·å–å•†å“è¯¦æƒ…å¤±è´¥: ${error.message}`);\r\n      } finally {\r\n        this.loading = false;\r\n        this.loadFeedbacks();\r\n      }\r\n    },\r\n    async loadFeedbacks() {\r\n      if (!this.productId) return;\r\n      this.loadingFeedback = true;\r\n      try {\r\n        const res = await axios.get(apiConfig.feedback.getProductFeedbacks(this.productId));\r\n        if (res.data && res.data.code === 1) {\r\n          this.feedbacks = res.data.data || [];\r\n        } else if (Array.isArray(res.data)) {\r\n          // å…¼å®¹æ— åŒ…è£¹çš„è¿”å›\r\n          this.feedbacks = res.data;\r\n        } else {\r\n          this.feedbacks = [];\r\n        }\r\n      } catch (e) {\r\n        console.error('è·å–å•†å“è¯„ä»·å¤±è´¥', e);\r\n        this.feedbacks = [];\r\n      } finally {\r\n        this.loadingFeedback = false;\r\n      }\r\n    },\r\n\r\n    // è·å–æ˜Ÿæ˜Ÿè¯„åˆ†æ˜¾ç¤ºï¼ˆå°†100åˆ†åˆ¶è½¬æ¢ä¸º5æ˜Ÿåˆ¶ï¼‰\r\n    getStarRating(rating) {\r\n      if (!rating) return 'â˜†â˜†â˜†â˜†â˜†';\r\n      const starRating = rating / 20;\r\n      const fullStars = Math.floor(starRating);\r\n      const halfStar = starRating - fullStars >= 0.5;\r\n      const emptyStars = 5 - fullStars - (halfStar ? 1 : 0);\r\n\r\n      let stars = '';\r\n      for (let i = 0; i < fullStars; i++) stars += 'â˜…';\r\n      if (halfStar) stars += 'â˜†';\r\n      for (let i = 0; i < emptyStars; i++) stars += 'â˜†';\r\n\r\n      return stars;\r\n    },\r\n\r\n    // æ·»åŠ åˆ°è´­ç‰©è½¦ï¼ˆè°ƒç”¨åç«¯æ¥å£ï¼Œå¸¦ç¡®è®¤å¼¹çª—ï¼‰\r\n    async addToCart() {\r\n      const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';\r\n      if (!isLoggedIn) {\r\n        this.showNotification('âš ï¸', 'è¯·å…ˆç™»å½•æ‰èƒ½æ·»åŠ åˆ°è´­ç‰©è½¦ï¼');\r\n        setTimeout(() => {\r\n          this.$router.push('/login');\r\n        }, 1500);\r\n        return;\r\n      }\r\n\r\n      if (this.product.stock <= 0) {\r\n        this.showNotification('âŒ', 'å•†å“å·²å”®ç½„');\r\n        return;\r\n      }\r\n\r\n      // æ˜¾ç¤ºç¡®è®¤å¼¹çª—\r\n      if (!confirm(`ç¡®å®šè¦å°†\"${this.product.name}\"æ·»åŠ åˆ°è´­ç‰©è½¦å—ï¼Ÿ`)) {\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const userId = localStorage.getItem('userId');\r\n        if (!userId) {\r\n          this.showNotification('âŒ', 'æœªæ‰¾åˆ°ç”¨æˆ·IDï¼Œè¯·é‡æ–°ç™»å½•');\r\n          return;\r\n        }\r\n\r\n        const productId = this.product.pid || this.product.id;\r\n        const bid = this.product.bid || 1;\r\n\r\n        // å…ˆæ£€æŸ¥è´­ç‰©è½¦ä¸­æ˜¯å¦å·²æœ‰è¯¥å•†å“\r\n        try {\r\n          const cartResponse = await axios.get(apiConfig.user.getUserCart(userId));\r\n          if (cartResponse.data.code === 1 && cartResponse.data.data) {\r\n            const existingItem = cartResponse.data.data.find(item => item.pid == productId);\r\n            if (existingItem) {\r\n              // å¦‚æœå·²å­˜åœ¨ï¼Œæ›´æ–°æ•°é‡\r\n              const updateResponse = await axios.put(apiConfig.user.updateCartQuantity, {\r\n                uid: userId,\r\n                cid: existingItem.cid,\r\n                quantity: existingItem.quantity + 1\r\n              });\r\n              if (updateResponse.data.code === 1) {\r\n                this.showNotification('ğŸ›’', `${this.product.name} å·²æ›´æ–°åˆ°è´­ç‰©è½¦ï¼ˆæ•°é‡+1ï¼‰`);\r\n              } else {\r\n                this.showNotification('âŒ', updateResponse.data.msg || 'æ›´æ–°å¤±è´¥');\r\n              }\r\n              return;\r\n            }\r\n          }\r\n        } catch (error) {\r\n          console.error('æ£€æŸ¥è´­ç‰©è½¦å¤±è´¥:', error);\r\n        }\r\n\r\n        // å¦‚æœä¸å­˜åœ¨ï¼Œæ·»åŠ æ–°å•†å“\r\n        const response = await axios.post(apiConfig.user.addToCart, {\r\n          uid: userId,\r\n          pid: productId,\r\n          bid: bid,\r\n          quantity: 1\r\n        });\r\n\r\n        if (response.data.code === 1) {\r\n          this.showNotification('ğŸ›’', `${this.product.name} å·²åŠ å…¥è´­ç‰©è½¦`);\r\n        } else {\r\n          this.showNotification('âŒ', response.data.msg || 'æ·»åŠ åˆ°è´­ç‰©è½¦å¤±è´¥');\r\n        }\r\n      } catch (error) {\r\n        console.error('æ·»åŠ åˆ°è´­ç‰©è½¦å¤±è´¥:', error);\r\n        this.showNotification('âŒ', 'æ·»åŠ åˆ°è´­ç‰©è½¦å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•');\r\n      }\r\n    },\r\n\r\n    // ç«‹å³è´­ä¹°\r\n    async buyNow() {\r\n      const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';\r\n      if (!isLoggedIn) {\r\n        this.showNotification('âš ï¸', 'è¯·å…ˆç™»å½•æ‰èƒ½è´­ä¹°å•†å“ï¼');\r\n        setTimeout(() => {\r\n          this.$router.push('/login');\r\n        }, 1500);\r\n        return;\r\n      }\r\n\r\n      if (this.product.stock <= 0) {\r\n        this.showNotification('âŒ', 'å•†å“å·²å”®ç½„');\r\n        return;\r\n      }\r\n\r\n      // æ‰“å¼€å•å“ç»“ç®—å¼¹çª—\r\n      this.checkoutForm = {\r\n        province: '',\r\n        receiverAddress: '',\r\n        receiverName: '',\r\n        receiverPhone: '',\r\n        remark: ''\r\n      };\r\n      this.showCheckoutDialog = true;\r\n    },\r\n\r\n    closeCheckoutDialog() {\r\n      this.showCheckoutDialog = false;\r\n    },\r\n\r\n    async submitSingleOrder() {\r\n      // è¡¨å•æ ¡éªŒ\r\n      if (!this.checkoutForm.province) {\r\n        alert('è¯·é€‰æ‹©çœä»½');\r\n        return;\r\n      }\r\n      if (!this.checkoutForm.receiverAddress || !this.checkoutForm.receiverAddress.trim()) {\r\n        alert('è¯·è¾“å…¥è¯¦ç»†åœ°å€');\r\n        return;\r\n      }\r\n      if (!this.checkoutForm.receiverName || !this.checkoutForm.receiverName.trim()) {\r\n        alert('è¯·è¾“å…¥æ”¶è´§äººå§“å');\r\n        return;\r\n      }\r\n      if (!this.checkoutForm.receiverPhone || !this.checkoutForm.receiverPhone.trim()) {\r\n        alert('è¯·è¾“å…¥è”ç³»ç”µè¯');\r\n        return;\r\n      }\r\n      const phoneRegex = /^1[3-9]\\d{9}$/;\r\n      if (!phoneRegex.test(this.checkoutForm.receiverPhone.trim())) {\r\n        alert('è¯·è¾“å…¥æ­£ç¡®çš„æ‰‹æœºå·ç ');\r\n        return;\r\n      }\r\n\r\n      const userId = localStorage.getItem('userId');\r\n      if (!userId) {\r\n        alert('æœªæ‰¾åˆ°ç”¨æˆ·IDï¼Œè¯·é‡æ–°ç™»å½•');\r\n        this.$router.push('/login');\r\n        return;\r\n      }\r\n\r\n      this.isCreatingOrder = true;\r\n      try {\r\n        const pid = this.product.pid || this.product.id;\r\n        const orderData = {\r\n          uid: parseInt(userId),\r\n          items: [\r\n            {\r\n              pid,\r\n              quantity: 1,\r\n              bid: this.product.bid || 1\r\n            }\r\n          ],\r\n          province: this.checkoutForm.province,\r\n          receiverAddress: this.checkoutForm.receiverAddress.trim(),\r\n          receiverName: this.checkoutForm.receiverName.trim(),\r\n          receiverPhone: this.checkoutForm.receiverPhone.trim(),\r\n          remark: this.checkoutForm.remark.trim() || '',\r\n          status: 0 // æ–°å»ºè®¢å•é»˜è®¤å¾…å‘è´§\r\n        };\r\n\r\n        const response = await axios.post(apiConfig.order.createOrder, orderData);\r\n        if (response.data.code === 1) {\r\n          const orderId = response.data.data;\r\n          this.showNotification('âœ…', `è®¢å•åˆ›å»ºæˆåŠŸï¼è®¢å•å·ï¼š${orderId}`);\r\n          this.closeCheckoutDialog();\r\n          this.$router.push('/user/orders');\r\n        } else {\r\n          alert(response.data.msg || 'åˆ›å»ºè®¢å•å¤±è´¥');\r\n        }\r\n      } catch (error) {\r\n        console.error('åˆ›å»ºè®¢å•å¤±è´¥:', error);\r\n        if (error.response && error.response.data) {\r\n          alert(error.response.data.msg || 'åˆ›å»ºè®¢å•å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•');\r\n        } else {\r\n          alert('åˆ›å»ºè®¢å•å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•');\r\n        }\r\n      } finally {\r\n        this.isCreatingOrder = false;\r\n      }\r\n    },\r\n\r\n    // æ”¶è—å•†å“\r\n    async toggleFavorite() {\r\n      try {\r\n        const token = localStorage.getItem('token');\r\n        if (!token) {\r\n          this.showNotification('âš ï¸', 'è¯·å…ˆç™»å½•');\r\n          return;\r\n        }\r\n\r\n        let favorites = JSON.parse(localStorage.getItem('lenovo_favorites') || '[]');\r\n\r\n        if (this.isFavorite) {\r\n          favorites = favorites.filter(id => id !== this.productId);\r\n          this.showNotification('ğŸ’”', `å·²å–æ¶ˆæ”¶è— ${this.product.name}`);\r\n        } else {\r\n          if (!favorites.includes(this.productId)) {\r\n            favorites.push(this.productId);\r\n          }\r\n          this.showNotification('â¤ï¸', `å·²æ”¶è— ${this.product.name}`);\r\n        }\r\n\r\n        localStorage.setItem('lenovo_favorites', JSON.stringify(favorites));\r\n        this.isFavorite = !this.isFavorite;\r\n      } catch (error) {\r\n        console.error('æ”¶è—æ“ä½œå¤±è´¥:', error);\r\n        this.showNotification('âŒ', 'æ“ä½œå¤±è´¥');\r\n      }\r\n    },\r\n\r\n    checkFavoriteStatus() {\r\n      const favorites = JSON.parse(localStorage.getItem('lenovo_favorites') || '[]');\r\n      this.isFavorite = favorites.includes(parseInt(this.productId));\r\n    },\r\n\r\n    goBack() {\r\n      this.$router.push('/');\r\n    },\r\n\r\n    viewFullImage() {\r\n      const imageUrl = this.getImageUrl(this.product.imageUrl);\r\n      if (imageUrl) {\r\n        window.open(imageUrl, '_blank');\r\n      } else {\r\n        this.showNotification('âš ï¸', 'è¯¥å•†å“æš‚æ— å¤§å›¾');\r\n      }\r\n    },\r\n\r\n    showNotification(icon, message) {\r\n      const notification = document.createElement('div');\r\n      notification.className = 'green-notification';\r\n      notification.innerHTML = `\r\n        <div class=\"notification-content\">\r\n          <span class=\"notification-icon\">${icon}</span>\r\n          <span>${message}</span>\r\n        </div>\r\n      `;\r\n      document.body.appendChild(notification);\r\n\r\n      setTimeout(() => {\r\n        notification.classList.add('show');\r\n      }, 10);\r\n\r\n      setTimeout(() => {\r\n        notification.classList.remove('show');\r\n        setTimeout(() => {\r\n          document.body.removeChild(notification);\r\n        }, 300);\r\n      }, 3000);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* é‡ç½®å’ŒåŸºç¡€æ ·å¼ */\r\n.product-detail {\r\n  max-width: 1400px;\r\n  margin: 0 auto;\r\n  min-height: calc(100vh - 200px);\r\n  position: relative;\r\n  background-color: white;\r\n}\r\n\r\n/* åŠ è½½æ ·å¼ */\r\n.loading {\r\n  text-align: center;\r\n  padding: 100px 20px;\r\n  background: white;\r\n  border-radius: 12px;\r\n  margin: 20px;\r\n}\r\n\r\n.spinner-container {\r\n  position: relative;\r\n  display: inline-block;\r\n  width: 60px;\r\n  height: 60px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.spinner {\r\n  width: 60px;\r\n  height: 60px;\r\n  border: 3px solid #e3f2fd;\r\n  border-top: 3px solid #3498db;\r\n  animation: spin 1.5s linear infinite;\r\n  border-radius: 0;\r\n}\r\n\r\n.spinner-inner {\r\n  position: absolute;\r\n  top: 15px;\r\n  left: 15px;\r\n  width: 30px;\r\n  height: 30px;\r\n  border: 2px solid #bbdefb;\r\n  border-top: 2px solid #90caf9;\r\n  animation: spin 1s linear infinite reverse;\r\n  border-radius: 0;\r\n}\r\n\r\n@keyframes spin {\r\n  0% { transform: rotate(0deg); }\r\n  100% { transform: rotate(360deg); }\r\n}\r\n\r\n/* å•†å“è¯¦æƒ…å®¹å™¨ */\r\n.detail-container {\r\n  background: white;\r\n  box-shadow: 0 2px 20px rgba(0, 0, 0, 0.08);\r\n  border-radius: 12px;\r\n  overflow: hidden;\r\n  margin: 20px;\r\n}\r\n\r\n/* é‡æ–°è®¾è®¡çš„é¡µçœ‰ */\r\n.product-header {\r\n  background: linear-gradient(135deg, #1565c0 0%, #0d47a1 100%);\r\n  color: white;\r\n  padding: 0;\r\n  position: relative;\r\n}\r\n\r\n/* é¡µçœ‰é¡¶éƒ¨æ“ä½œæ  */\r\n.header-top {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 15px 30px;\r\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\r\n}\r\n\r\n.back-btn-header {\r\n  background: rgba(255, 255, 255, 0.1);\r\n  color: white;\r\n  border: 1px solid rgba(255, 255, 255, 0.2);\r\n  padding: 8px 16px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  transition: all 0.3s ease;\r\n  border-radius: 0;\r\n  backdrop-filter: blur(5px);\r\n}\r\n\r\n.back-btn-header:hover {\r\n  background: rgba(255, 255, 255, 0.2);\r\n  transform: translateY(-1px);\r\n}\r\n\r\n/* é¡µçœ‰ä¸»è¦å†…å®¹ */\r\n.header-content {\r\n  padding: 25px 30px;\r\n}\r\n\r\n.title-section {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.title-section h1 {\r\n  margin: 0 0 5px 0;\r\n  font-size: 28px;\r\n  font-weight: 700;\r\n  line-height: 1.2;\r\n}\r\n\r\n/* å•†å“å…ƒä¿¡æ¯ */\r\n.product-meta {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n  gap: 20px;\r\n}\r\n\r\n.meta-group {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 15px;\r\n}\r\n\r\n.meta-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  font-size: 14px;\r\n  padding: 6px 12px;\r\n  background: rgba(255, 255, 255, 0.1);\r\n  border-radius: 0;\r\n  backdrop-filter: blur(5px);\r\n}\r\n\r\n.meta-item.low-stock {\r\n  background: rgba(255, 152, 0, 0.2);\r\n}\r\n\r\n.meta-icon {\r\n  font-size: 14px;\r\n}\r\n\r\n.price-display {\r\n  background: rgba(255, 255, 255, 0.15);\r\n  padding: 8px 20px;\r\n  border-radius: 0;\r\n  backdrop-filter: blur(10px);\r\n}\r\n\r\n.price-tag {\r\n  font-size: 24px;\r\n  font-weight: 800;\r\n  color: #fff;\r\n}\r\n\r\n/* ä¸»è¦å†…å®¹åŒºåŸŸ */\r\n.detail-content {\r\n  display: flex;\r\n  padding: 30px;\r\n  gap: 30px;\r\n  min-height: 500px;\r\n}\r\n\r\n.left-column {\r\n  flex: 1;\r\n  min-width: 400px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 25px;\r\n}\r\n\r\n.right-column {\r\n  flex: 1.5;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 25px;\r\n}\r\n\r\n/* å›¾ç‰‡åŒºåŸŸ */\r\n.product-image-section {\r\n  position: relative;\r\n}\r\n\r\n.image-container {\r\n  width: 100%;\r\n  height: 400px;\r\n  background: #f5f5f5;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 0;\r\n  overflow: hidden;\r\n}\r\n\r\n.product-image-large {\r\n  max-width: 100%;\r\n  max-height: 100%;\r\n  object-fit: contain;\r\n}\r\n\r\n.image-placeholder-large {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 15px;\r\n  color: #666;\r\n  font-size: 14px;\r\n}\r\n\r\n.placeholder-icon {\r\n  font-size: 50px;\r\n  opacity: 0.5;\r\n}\r\n\r\n.image-actions {\r\n  display: flex;\r\n  gap: 15px;\r\n  margin-top: 15px;\r\n}\r\n\r\n.btn-action {\r\n  flex: 1;\r\n  background: #f5f5f5;\r\n  border: 1px solid #ddd;\r\n  padding: 12px;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 8px;\r\n  transition: all 0.3s ease;\r\n  border-radius: 0;\r\n  font-size: 14px;\r\n  color: #333;\r\n}\r\n\r\n.btn-action:hover {\r\n  background: #e0e0e0;\r\n}\r\n\r\n/* ä»·æ ¼ç›’å­ */\r\n.price-box {\r\n  background: #f9f9f9;\r\n  padding: 25px;\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 0;\r\n}\r\n\r\n.price-section {\r\n  margin-bottom: 25px;\r\n}\r\n\r\n.price-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.price-label {\r\n  font-size: 16px;\r\n  color: #666;\r\n  font-weight: 500;\r\n}\r\n\r\n.current-price {\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.price-value {\r\n  font-size: 32px;\r\n  font-weight: 700;\r\n  color: #e91e63;\r\n}\r\n\r\n.action-buttons {\r\n  display: flex;\r\n  gap: 15px;\r\n}\r\n\r\n.btn-add-to-cart, .btn-buy {\r\n  flex: 1;\r\n  padding: 16px;\r\n  border: none;\r\n  cursor: pointer;\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 8px;\r\n  transition: all 0.3s ease;\r\n  border-radius: 0;\r\n}\r\n\r\n.btn-add-to-cart {\r\n  background: #2196f3;\r\n  color: white;\r\n}\r\n\r\n.btn-add-to-cart:hover:not(:disabled) {\r\n  background: #1976d2;\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 12px rgba(33, 150, 243, 0.3);\r\n}\r\n\r\n.btn-buy {\r\n  background: #1565c0;\r\n  color: white;\r\n}\r\n\r\n.btn-buy:hover:not(:disabled) {\r\n  background: #0d47a1;\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 12px rgba(21, 101, 192, 0.3);\r\n}\r\n\r\n.btn-add-to-cart:disabled,\r\n.btn-buy:disabled {\r\n  background: #ccc;\r\n  color: #999;\r\n  cursor: not-allowed;\r\n  opacity: 0.7;\r\n  box-shadow: none;\r\n}\r\n\r\n/* å³ä¾§å†…å®¹åŒºåŸŸ */\r\n.description-section,\r\n.specifications-section,\r\n.basic-info,\r\n.comments-section {\r\n  padding: 25px;\r\n  background: white;\r\n  border: 1px solid #f0f0f0;\r\n  border-radius: 10px;\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.04);\r\n}\r\n\r\n.section-header {\r\n  margin-bottom: 20px;\r\n  padding-bottom: 10px;\r\n  border-bottom: 1px solid #f0f0f0;\r\n}\r\n\r\n.section-header h3 {\r\n  margin: 0;\r\n  font-size: 20px;\r\n  color: #3498db;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  font-weight: 600;\r\n}\r\n\r\n.section-icon {\r\n  font-size: 20px;\r\n}\r\n\r\n.description-content p {\r\n  line-height: 1.7;\r\n  color: #333;\r\n  font-size: 15px;\r\n  margin: 0;\r\n}\r\n\r\n.comments-loading,\r\n.comments-empty {\r\n  color: #666;\r\n}\r\n\r\n.comments-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n}\r\n\r\n.comment-item {\r\n  display: flex;\r\n  gap: 12px;\r\n  padding-bottom: 12px;\r\n  border-bottom: 1px solid #f5f5f5;\r\n}\r\n\r\n.comment-avatar {\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  background: #e3f2fd;\r\n  color: #1565c0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-weight: 700;\r\n}\r\n\r\n.comment-body {\r\n  flex: 1;\r\n}\r\n\r\n.comment-header {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.comment-user {\r\n  font-weight: 700;\r\n  color: #182848;\r\n}\r\n\r\n.comment-stars .star {\r\n  color: #ccc;\r\n}\r\n\r\n.comment-stars .star.active {\r\n  color: #f6a623;\r\n}\r\n\r\n.comment-time {\r\n  color: #999;\r\n  font-size: 12px;\r\n}\r\n\r\n.comment-text {\r\n  color: #333;\r\n  line-height: 1.6;\r\n}\r\n\r\n/* è§„æ ¼ä¿¡æ¯ */\r\n.specs-content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n}\r\n\r\n.spec-row {\r\n  display: flex;\r\n  align-items: flex-start;\r\n  padding: 10px 0;\r\n  border-bottom: 1px solid #f5f5f5;\r\n}\r\n\r\n.spec-row:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.spec-label {\r\n  font-weight: 600;\r\n  color: #3498db;\r\n  min-width: 80px;\r\n  font-size: 14px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.spec-value {\r\n  color: #333;\r\n  flex: 1;\r\n  font-size: 14px;\r\n}\r\n\r\n/* åŸºæœ¬ä¿¡æ¯ */\r\n.info-content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n}\r\n\r\n.info-row {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  padding: 10px 0;\r\n  border-bottom: 1px solid #f5f5f5;\r\n}\r\n\r\n.info-row:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.info-icon {\r\n  font-size: 16px;\r\n  width: 20px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.info-label {\r\n  font-weight: 600;\r\n  color: #666;\r\n  min-width: 70px;\r\n  font-size: 14px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.info-value {\r\n  color: #333;\r\n  flex: 1;\r\n  font-size: 14px;\r\n}\r\n\r\n.rating-stars {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n\r\n.stars {\r\n  color: #ffb300;\r\n  font-size: 16px;\r\n  letter-spacing: 1px;\r\n}\r\n\r\n.stock-available {\r\n  color: #4caf50;\r\n  font-weight: 600;\r\n}\r\n\r\n.stock-low {\r\n  color: #ff9800;\r\n  font-weight: 600;\r\n}\r\n\r\n.low-stock-text {\r\n  font-size: 12px;\r\n  color: #ff9800;\r\n  margin-left: 5px;\r\n}\r\n\r\n.sold-out-text {\r\n  font-size: 12px;\r\n  color: #f44336;\r\n  margin-left: 5px;\r\n}\r\n\r\n/* æœªæ‰¾åˆ°å•†å“ */\r\n.not-found {\r\n  text-align: center;\r\n  padding: 100px 20px;\r\n  min-height: 400px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: white;\r\n  border-radius: 12px;\r\n  margin: 20px;\r\n}\r\n\r\n.empty-state {\r\n  max-width: 400px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.empty-icon {\r\n  font-size: 50px;\r\n  margin-bottom: 20px;\r\n  color: #999;\r\n}\r\n\r\n.not-found h2 {\r\n  color: #333;\r\n  margin-bottom: 10px;\r\n  font-size: 24px;\r\n}\r\n\r\n.not-found p {\r\n  color: #666;\r\n  margin-bottom: 30px;\r\n  font-size: 16px;\r\n}\r\n\r\n.btn-back-to-list {\r\n  background: #42a5f5;\r\n  color: white;\r\n  border: none;\r\n  padding: 12px 25px;\r\n  cursor: pointer;\r\n  font-size: 15px;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  transition: all 0.3s ease;\r\n  border-radius: 0;\r\n  font-weight: 600;\r\n}\r\n\r\n.btn-back-to-list:hover {\r\n  background: #3498db;\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 12px rgba(66, 165, 245, 0.3);\r\n}\r\n\r\n/* é€šçŸ¥æ ·å¼ */\r\n.green-notification {\r\n  position: fixed;\r\n  top: 100px;\r\n  right: 30px;\r\n  background: linear-gradient(135deg, #42a5f5 0%, #3498db 100%);\r\n  color: white;\r\n  padding: 15px 25px;\r\n  box-shadow: 0 8px 30px rgba(66, 165, 245, 0.4);\r\n  z-index: 10000;\r\n  transform: translateX(120%);\r\n  transition: transform 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);\r\n  border: 1px solid rgba(255,255,255,0.2);\r\n  border-radius: 0;\r\n}\r\n\r\n.green-notification.show {\r\n  transform: translateX(0);\r\n}\r\n\r\n.notification-content {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n}\r\n\r\n.notification-icon {\r\n  font-size: 18px;\r\n}\r\n\r\n/* å“åº”å¼è®¾è®¡ */\r\n@media (max-width: 1200px) {\r\n  .detail-content {\r\n    flex-direction: column;\r\n  }\r\n\r\n  .left-column {\r\n    min-width: 100%;\r\n  }\r\n\r\n  .title-section h1 {\r\n    font-size: 24px;\r\n  }\r\n\r\n  .price-tag {\r\n    font-size: 20px;\r\n  }\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .product-detail {\r\n    padding: 0;\r\n    margin: 0;\r\n  }\r\n\r\n  .detail-container {\r\n    margin: 0;\r\n    border-radius: 0;\r\n  }\r\n\r\n  .detail-content {\r\n    padding: 20px;\r\n    gap: 20px;\r\n  }\r\n\r\n  .header-top {\r\n    padding: 12px 20px;\r\n  }\r\n\r\n  .back-btn-header {\r\n    padding: 6px 12px;\r\n    font-size: 13px;\r\n  }\r\n\r\n  .header-content {\r\n    padding: 20px;\r\n  }\r\n\r\n  .title-section h1 {\r\n    font-size: 20px;\r\n  }\r\n\r\n  .product-meta {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    gap: 15px;\r\n  }\r\n\r\n  .meta-group {\r\n    width: 100%;\r\n    flex-direction: column;\r\n    gap: 10px;\r\n  }\r\n\r\n  .meta-item {\r\n    width: 100%;\r\n    justify-content: space-between;\r\n  }\r\n\r\n  .image-container {\r\n    height: 300px;\r\n  }\r\n\r\n  .action-buttons {\r\n    flex-direction: column;\r\n  }\r\n\r\n  .price-box {\r\n    padding: 20px;\r\n  }\r\n\r\n  .price-value {\r\n    font-size: 28px;\r\n  }\r\n\r\n  .description-section,\r\n  .specifications-section,\r\n  .basic-info {\r\n    padding: 20px;\r\n  }\r\n\r\n  .section-header h3 {\r\n    font-size: 18px;\r\n  }\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .product-detail {\r\n    padding: 0;\r\n  }\r\n\r\n  .header-top {\r\n    padding: 10px;\r\n  }\r\n\r\n  .header-content {\r\n    padding: 15px;\r\n  }\r\n\r\n  .title-section h1 {\r\n    font-size: 18px;\r\n  }\r\n\r\n  .detail-content {\r\n    padding: 15px;\r\n  }\r\n\r\n  .image-container {\r\n    height: 250px;\r\n  }\r\n\r\n  .price-box {\r\n    padding: 15px;\r\n  }\r\n\r\n  .price-value {\r\n    font-size: 24px;\r\n  }\r\n\r\n  .btn-add-to-cart, .btn-buy {\r\n    padding: 14px;\r\n    font-size: 15px;\r\n  }\r\n}\r\n\r\n/* ç»“ç®—å¼¹çª—æ ·å¼ï¼ˆå¤ç”¨è´­ç‰©è½¦é£æ ¼ï¼‰ */\r\n.checkout-dialog-overlay {\r\n  position: fixed;\r\n  inset: 0;\r\n  background: rgba(0,0,0,0.45);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 2000;\r\n}\r\n\r\n.checkout-dialog {\r\n  width: 520px;\r\n  background: #fff;\r\n  border-radius: 6px;\r\n  box-shadow: 0 10px 30px rgba(0,0,0,0.18);\r\n  overflow: hidden;\r\n  animation: fadeIn 0.2s ease;\r\n}\r\n\r\n.dialog-header {\r\n  padding: 16px 20px;\r\n  border-bottom: 1px solid #f0f0f0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n\r\n.dialog-header h2 {\r\n  margin: 0;\r\n  font-size: 18px;\r\n  color: #182848;\r\n}\r\n\r\n.close-btn {\r\n  border: none;\r\n  background: transparent;\r\n  font-size: 18px;\r\n  cursor: pointer;\r\n}\r\n\r\n.dialog-content {\r\n  padding: 16px 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n}\r\n\r\n.form-group label {\r\n  font-weight: 600;\r\n  color: #182848;\r\n}\r\n\r\n.form-input {\r\n  width: 100%;\r\n  padding: 10px;\r\n  border: 1px solid #d0ddff;\r\n  border-radius: 4px;\r\n  background: #f8fbff;\r\n}\r\n\r\n.dialog-footer {\r\n  padding: 14px 20px;\r\n  border-top: 1px solid #f0f0f0;\r\n  display: flex;\r\n  gap: 12px;\r\n  justify-content: flex-end;\r\n}\r\n\r\n.btn-cancel, .btn-confirm {\r\n  padding: 10px 18px;\r\n  border: none;\r\n  cursor: pointer;\r\n  border-radius: 4px;\r\n  font-weight: 600;\r\n}\r\n\r\n.btn-cancel {\r\n  background: #f5f5f5;\r\n  color: #666;\r\n}\r\n\r\n.btn-confirm {\r\n  background: #1565c0;\r\n  color: #fff;\r\n}\r\n\r\n.btn-confirm:disabled {\r\n  background: #ccc;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.required {\r\n  color: #e91e63;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}