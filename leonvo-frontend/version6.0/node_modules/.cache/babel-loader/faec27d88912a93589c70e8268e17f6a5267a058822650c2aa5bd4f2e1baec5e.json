{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport \"core-js/modules/es.iterator.reduce.js\";\nimport apiConfig from '@/config/api.config';\nimport axios from 'axios';\n\n// 模拟数据 - 备用（当API全挂时）\nconst MOCK_FEEDBACKS = [{\n  fid: 101,\n  uid: 1,\n  pid: 1,\n  feedTime: '2023-12-19T14:30:45',\n  star: 5,\n  comment: '商品质量非常好，物流也很快！强烈推荐！'\n}, {\n  fid: 102,\n  uid: 2,\n  pid: 1,\n  feedTime: '2023-12-18T10:20:33',\n  star: 4,\n  comment: '还不错，性价比高，就是包装有点简陋'\n}, {\n  fid: 103,\n  uid: 3,\n  pid: 2,\n  feedTime: '2023-12-17T16:45:22',\n  star: 5,\n  comment: '非常满意，性能强劲，玩游戏很流畅'\n}];\nexport default {\n  name: 'AdminComments',\n  data() {\n    return {\n      // 商品选择\n      selectedProductId: '',\n      ratingFilter: 'all',\n      currentPage: 1,\n      pageSize: 20,\n      // 数据\n      products: [],\n      allFeedbacks: [],\n      // 存储所有评论\n\n      loading: false,\n      error: null,\n      selectedFeedback: null,\n      isMockData: false\n    };\n  },\n  computed: {\n    // 当前选中的商品\n    currentProduct() {\n      if (!this.selectedProductId) return null;\n      return this.products.find(p => p.pid == this.selectedProductId) || null;\n    },\n    // 筛选后的评价\n    filteredFeedbacks() {\n      let result = this.allFeedbacks;\n\n      // 1. 商品筛选\n      if (this.selectedProductId) {\n        result = result.filter(f => f.pid == this.selectedProductId);\n      }\n\n      // 2. 评分筛选\n      if (this.ratingFilter !== 'all') {\n        result = result.filter(f => f.star == this.ratingFilter);\n      }\n\n      // ID 降序\n      return result.sort((a, b) => b.fid - a.fid);\n    },\n    totalPages() {\n      return Math.ceil(this.filteredFeedbacks.length / this.pageSize);\n    },\n    paginatedFeedbacks() {\n      const start = (this.currentPage - 1) * this.pageSize;\n      return this.filteredFeedbacks.slice(start, start + this.pageSize);\n    },\n    // 平均评分\n    averageRating() {\n      if (this.filteredFeedbacks.length === 0) return 0;\n      const total = this.filteredFeedbacks.reduce((sum, f) => sum + (f.star || 0), 0);\n      return total / this.filteredFeedbacks.length;\n    }\n  },\n  mounted() {\n    this.loadData();\n  },\n  methods: {\n    nextPage() {\n      if (this.currentPage < this.totalPages) this.currentPage++;\n    },\n    prevPage() {\n      if (this.currentPage > 1) this.currentPage--;\n    },\n    // 初始化加载所有数据\n    async loadData() {\n      this.loading = true;\n      this.error = null;\n      try {\n        // 1. 先加载商品列表\n        await this.loadProducts();\n\n        // 2. 加载所有商品的评论\n        await this.loadAllFeedbacks();\n      } catch (err) {\n        console.error('加载数据失败:', err);\n        this.error = '数据加载失败，请重试';\n        // 兜底\n        this.allFeedbacks = MOCK_FEEDBACKS;\n        this.isMockData = true;\n      } finally {\n        this.loading = false;\n      }\n    },\n    // 加载商品列表\n    async loadProducts() {\n      try {\n        const response = await axios.get(apiConfig.product.getAllProducts);\n        if (response.data.code === 1) {\n          this.products = response.data.data.map(p => ({\n            pid: p.pid || p.id,\n            name: p.name || p.productName || '未命名商品'\n          }));\n        }\n      } catch (error) {\n        console.warn('加载商品列表失败:', error);\n        // 使用一些默认商品防止页面完全空白\n        this.products = [{\n          pid: 1,\n          name: '示例商品1'\n        }, {\n          pid: 2,\n          name: '示例商品2'\n        }];\n      }\n    },\n    // 加载所有评论（遍历所有商品）\n    async loadAllFeedbacks() {\n      if (this.products.length === 0) return;\n      const promises = this.products.map(product => axios.get(apiConfig.feedback.getProductFeedbacks(product.pid)).then(res => {\n        if (res.data.code === 1) {\n          // 确保返回的是数组\n          return Array.isArray(res.data.data) ? res.data.data : [];\n        }\n        return [];\n      }).catch(err => {\n        console.warn(`加载商品 ${product.pid} 评论失败:`, err);\n        return [];\n      }));\n\n      // 并发请求所有商品的评论\n      const results = await Promise.all(promises);\n\n      // 合并所有结果\n      let all = results.flat();\n\n      // 按时间倒序排序 (最新的在前)\n      all.sort((a, b) => {\n        const timeA = a.feedTime ? new Date(a.feedTime).getTime() : 0;\n        const timeB = b.feedTime ? new Date(b.feedTime).getTime() : 0;\n        return timeB - timeA;\n      });\n      this.allFeedbacks = all;\n      this.isMockData = false;\n    },\n    // 获取商品名称\n    getProductName(pid) {\n      const product = this.products.find(p => p.pid == pid);\n      return product ? product.name : `商品ID:${pid}`;\n    },\n    // 格式化时间\n    formatFeedTime(timeString) {\n      if (!timeString) return '-';\n      try {\n        const date = new Date(timeString);\n        return date.toLocaleDateString('zh-CN') + ' ' + date.toLocaleTimeString('zh-CN', {\n          hour: '2-digit',\n          minute: '2-digit'\n        });\n      } catch {\n        return timeString;\n      }\n    },\n    // 评价操作\n    viewFeedbackDetail(feedback) {\n      this.selectedFeedback = {\n        ...feedback\n      };\n    }\n  }\n};","map":{"version":3,"names":["apiConfig","axios","MOCK_FEEDBACKS","fid","uid","pid","feedTime","star","comment","name","data","selectedProductId","ratingFilter","currentPage","pageSize","products","allFeedbacks","loading","error","selectedFeedback","isMockData","computed","currentProduct","find","p","filteredFeedbacks","result","filter","f","sort","a","b","totalPages","Math","ceil","length","paginatedFeedbacks","start","slice","averageRating","total","reduce","sum","mounted","loadData","methods","nextPage","prevPage","loadProducts","loadAllFeedbacks","err","console","response","get","product","getAllProducts","code","map","id","productName","warn","promises","feedback","getProductFeedbacks","then","res","Array","isArray","catch","results","Promise","all","flat","timeA","Date","getTime","timeB","getProductName","formatFeedTime","timeString","date","toLocaleDateString","toLocaleTimeString","hour","minute","viewFeedbackDetail"],"sources":["D:\\1_homework_file\\大三上\\软件工程\\项目留档\\1前端开发_我才是真的\\version5.0\\src\\views\\admin\\Admin6Comments.vue"],"sourcesContent":["<template>\r\n  <div class=\"management-section\">\r\n    <div class=\"section-header\">\r\n      <h3>评论管理</h3>\r\n      <div class=\"section-actions\">\r\n        <!-- 商品选择框 -->\r\n        <div class=\"product-selector\">\r\n          <select v-model=\"selectedProductId\" class=\"filter-select\">\r\n            <option value=\"\">所有商品</option>\r\n            <option v-for=\"product in products\" :key=\"product.pid\" :value=\"product.pid\">\r\n              {{ product.name }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n\r\n        <!-- 评分筛选 -->\r\n        <select v-model=\"ratingFilter\" class=\"filter-select\">\r\n          <option value=\"all\">全部评分</option>\r\n          <option value=\"5\">5星</option>\r\n          <option value=\"4\">4星</option>\r\n          <option value=\"3\">3星</option>\r\n          <option value=\"2\">2星</option>\r\n          <option value=\"1\">1星</option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 加载状态 -->\r\n    <div v-if=\"loading\" class=\"loading-state\">\r\n      <div class=\"spinner\"></div>\r\n      正在加载评价数据...\r\n    </div>\r\n\r\n    <!-- 错误状态 -->\r\n    <div v-else-if=\"error\" class=\"error-state\">\r\n      加载失败：{{ error }}\r\n      <button @click=\"loadData\" class=\"btn-retry\">重试</button>\r\n    </div>\r\n\r\n    <!-- 评论表格 -->\r\n    <div v-else class=\"table-container\">\r\n      <div class=\"product-header\">\r\n        <div class=\"product-info\">\r\n          <div class=\"product-name\">\r\n            {{ selectedProductId ? (currentProduct?.name || '未知商品') : '所有商品评价' }}\r\n          </div>\r\n          <div class=\"product-stats\">\r\n            共 {{ filteredFeedbacks.length }} 条评价 \r\n            <span v-if=\"filteredFeedbacks.length > 0\">\r\n              • 平均评分：{{ averageRating.toFixed(1) }} ★\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <table class=\"data-table\">\r\n        <thead>\r\n        <tr>\r\n          <th>评价ID</th>\r\n          <th class=\"text-left\">商品</th>\r\n          <th class=\"text-left\">用户ID</th>\r\n          <th class=\"text-left\">评分</th>\r\n          <th class=\"text-left\">评价内容</th>\r\n          <th class=\"text-left\">评价时间</th>\r\n          <th>操作</th>\r\n        </tr>\r\n        </thead>\r\n        <tbody>\r\n        <tr v-for=\"feedback in paginatedFeedbacks\" :key=\"feedback.fid\">\r\n          <td><span class=\"id-text\">#{{ feedback.fid }}</span></td>\r\n          <td class=\"text-left\">\r\n             <div class=\"product-cell\">\r\n               <div class=\"user-avatar-sm\">{{ getProductName(feedback.pid)?.charAt(0) }}</div>\r\n               <span class=\"product-name-text\">{{ getProductName(feedback.pid) }}</span>\r\n             </div>\r\n          </td>\r\n          <td class=\"text-left\"><span class=\"id-text\">#{{ feedback.uid }}</span></td>\r\n          <td class=\"text-left\">\r\n            <div class=\"rating-display\">\r\n                <span class=\"rating-stars\">\r\n                  <span v-for=\"n in 5\" :key=\"n\" :class=\"['star', n <= feedback.star ? 'filled' : 'empty']\">★</span>\r\n                </span>\r\n              <span class=\"rating-value\">{{ feedback.star }}星</span>\r\n            </div>\r\n          </td>\r\n          <td class=\"comment-content text-left\">\r\n            {{ feedback.comment || '（无文字评价）' }}\r\n          </td>\r\n          <td class=\"text-left\">{{ formatFeedTime(feedback.feedTime) }}</td>\r\n          <td>\r\n            <div class=\"action-buttons center-content\">\r\n              <button class=\"btn-view\" @click=\"viewFeedbackDetail(feedback)\">详情</button>\r\n            </div>\r\n          </td>\r\n        </tr>\r\n        </tbody>\r\n      </table>\r\n\r\n      <!-- 空状态 -->\r\n      <div v-if=\"filteredFeedbacks.length === 0\" class=\"empty-state\">\r\n        暂无评价数据\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 底部信息 -->\r\n    <div class=\"table-footer\">\r\n      <div class=\"pagination-info\">\r\n        显示 {{ filteredFeedbacks.length }} 条记录中的 {{ filteredFeedbacks.length > 0 ? (currentPage - 1) * pageSize + 1 : 0 }}-{{ Math.min(currentPage * pageSize, filteredFeedbacks.length) }} 条\r\n      </div>\r\n      <div class=\"pagination\">\r\n        <button class=\"pagination-btn\" :disabled=\"currentPage === 1\" @click=\"prevPage\">上一页</button>\r\n        <span class=\"pagination-current\">{{ currentPage }} / {{ totalPages || 1 }}</span>\r\n        <button class=\"pagination-btn\" :disabled=\"currentPage === totalPages || totalPages === 0\" @click=\"nextPage\">下一页</button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 评价详情模态框 -->\r\n    <div v-if=\"selectedFeedback\" class=\"modal-overlay\" @click.self=\"selectedFeedback = null\">\r\n      <div class=\"modal modal-sm\">\r\n        <div class=\"modal-header\">\r\n          <h3>评价详情 #{{ selectedFeedback.fid }}</h3>\r\n          <button class=\"modal-close\" @click=\"selectedFeedback = null\">×</button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <div class=\"feedback-detail\">\r\n            <!-- 基本信息 -->\r\n            <div class=\"detail-row\">\r\n              <div class=\"detail-item\">\r\n                <label>商品：</label>\r\n                <span class=\"product-name\">{{ getProductName(selectedFeedback.pid) }}</span>\r\n              </div>\r\n              <div class=\"detail-item\">\r\n                <label>用户ID：</label>\r\n                <span class=\"id-text\">#{{ selectedFeedback.uid }}</span>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- 评分 -->\r\n            <div class=\"detail-section\">\r\n              <h4>评分</h4>\r\n              <div class=\"rating-large\">\r\n                <span class=\"rating-stars-large\">\r\n                  <span v-for=\"n in 5\" :key=\"n\" :class=\"['star-large', n <= selectedFeedback.star ? 'filled' : 'empty']\">★</span>\r\n                </span>\r\n                <span class=\"rating-value-large\">{{ selectedFeedback.star }}星</span>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- 评价内容 -->\r\n            <div class=\"detail-section\">\r\n              <h4>评价内容</h4>\r\n              <div class=\"comment-content-large\">\r\n                {{ selectedFeedback.comment || '（无文字评价）' }}\r\n              </div>\r\n            </div>\r\n\r\n            <!-- 时间信息 -->\r\n            <div class=\"detail-section\">\r\n              <h4>时间信息</h4>\r\n              <div class=\"detail-grid\">\r\n                <div class=\"detail-item full-width\">\r\n                  <label>评价时间：</label>\r\n                  <span>{{ formatFeedTime(selectedFeedback.feedTime) }}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport apiConfig from '@/config/api.config'\r\nimport axios from 'axios';\r\n\r\n// 模拟数据 - 备用（当API全挂时）\r\nconst MOCK_FEEDBACKS = [\r\n  { fid: 101, uid: 1, pid: 1, feedTime: '2023-12-19T14:30:45', star: 5, comment: '商品质量非常好，物流也很快！强烈推荐！' },\r\n  { fid: 102, uid: 2, pid: 1, feedTime: '2023-12-18T10:20:33', star: 4, comment: '还不错，性价比高，就是包装有点简陋' },\r\n  { fid: 103, uid: 3, pid: 2, feedTime: '2023-12-17T16:45:22', star: 5, comment: '非常满意，性能强劲，玩游戏很流畅' }\r\n];\r\n\r\nexport default {\r\n  name: 'AdminComments',\r\n  data() {\r\n    return {\r\n      // 商品选择\r\n      selectedProductId: '',\r\n      ratingFilter: 'all',\r\n      currentPage: 1,\r\n      pageSize: 20,\r\n\r\n      // 数据\r\n      products: [],\r\n      allFeedbacks: [], // 存储所有评论\r\n      \r\n      loading: false,\r\n      error: null,\r\n      selectedFeedback: null,\r\n      isMockData: false\r\n    }\r\n  },\r\n  computed: {\r\n    // 当前选中的商品\r\n    currentProduct() {\r\n      if (!this.selectedProductId) return null;\r\n      return this.products.find(p => p.pid == this.selectedProductId) || null\r\n    },\r\n\r\n    // 筛选后的评价\r\n    filteredFeedbacks() {\r\n      let result = this.allFeedbacks;\r\n\r\n      // 1. 商品筛选\r\n      if (this.selectedProductId) {\r\n        result = result.filter(f => f.pid == this.selectedProductId)\r\n      }\r\n\r\n      // 2. 评分筛选\r\n      if (this.ratingFilter !== 'all') {\r\n        result = result.filter(f => f.star == this.ratingFilter)\r\n      }\r\n      \r\n      // ID 降序\r\n      return result.sort((a, b) => b.fid - a.fid);\r\n    },\r\n    \r\n    totalPages() {\r\n      return Math.ceil(this.filteredFeedbacks.length / this.pageSize);\r\n    },\r\n    \r\n    paginatedFeedbacks() {\r\n      const start = (this.currentPage - 1) * this.pageSize;\r\n      return this.filteredFeedbacks.slice(start, start + this.pageSize);\r\n    },\r\n\r\n    // 平均评分\r\n    averageRating() {\r\n      if (this.filteredFeedbacks.length === 0) return 0\r\n      const total = this.filteredFeedbacks.reduce((sum, f) => sum + (f.star || 0), 0)\r\n      return total / this.filteredFeedbacks.length\r\n    }\r\n  },\r\n  mounted() {\r\n    this.loadData();\r\n  },\r\n  methods: {\r\n    nextPage() {\r\n      if (this.currentPage < this.totalPages) this.currentPage++;\r\n    },\r\n    prevPage() {\r\n      if (this.currentPage > 1) this.currentPage--;\r\n    },\r\n    // 初始化加载所有数据\r\n    async loadData() {\r\n      this.loading = true;\r\n      this.error = null;\r\n      try {\r\n        // 1. 先加载商品列表\r\n        await this.loadProducts();\r\n        \r\n        // 2. 加载所有商品的评论\r\n        await this.loadAllFeedbacks();\r\n        \r\n      } catch (err) {\r\n        console.error('加载数据失败:', err);\r\n        this.error = '数据加载失败，请重试';\r\n        // 兜底\r\n        this.allFeedbacks = MOCK_FEEDBACKS;\r\n        this.isMockData = true;\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n\r\n    // 加载商品列表\r\n    async loadProducts() {\r\n      try {\r\n        const response = await axios.get(apiConfig.product.getAllProducts);\r\n        if (response.data.code === 1) {\r\n          this.products = response.data.data.map(p => ({\r\n            pid: p.pid || p.id,\r\n            name: p.name || p.productName || '未命名商品'\r\n          }));\r\n        }\r\n      } catch (error) {\r\n        console.warn('加载商品列表失败:', error);\r\n        // 使用一些默认商品防止页面完全空白\r\n        this.products = [\r\n          { pid: 1, name: '示例商品1' },\r\n          { pid: 2, name: '示例商品2' }\r\n        ];\r\n      }\r\n    },\r\n\r\n    // 加载所有评论（遍历所有商品）\r\n    async loadAllFeedbacks() {\r\n      if (this.products.length === 0) return;\r\n\r\n      const promises = this.products.map(product => \r\n        axios.get(apiConfig.feedback.getProductFeedbacks(product.pid))\r\n          .then(res => {\r\n            if (res.data.code === 1) {\r\n              // 确保返回的是数组\r\n              return Array.isArray(res.data.data) ? res.data.data : [];\r\n            }\r\n            return [];\r\n          })\r\n          .catch(err => {\r\n            console.warn(`加载商品 ${product.pid} 评论失败:`, err);\r\n            return [];\r\n          })\r\n      );\r\n\r\n      // 并发请求所有商品的评论\r\n      const results = await Promise.all(promises);\r\n      \r\n      // 合并所有结果\r\n      let all = results.flat();\r\n      \r\n      // 按时间倒序排序 (最新的在前)\r\n      all.sort((a, b) => {\r\n        const timeA = a.feedTime ? new Date(a.feedTime).getTime() : 0;\r\n        const timeB = b.feedTime ? new Date(b.feedTime).getTime() : 0;\r\n        return timeB - timeA;\r\n      });\r\n\r\n      this.allFeedbacks = all;\r\n      this.isMockData = false;\r\n    },\r\n\r\n    // 获取商品名称\r\n    getProductName(pid) {\r\n      const product = this.products.find(p => p.pid == pid);\r\n      return product ? product.name : `商品ID:${pid}`;\r\n    },\r\n\r\n    // 格式化时间\r\n    formatFeedTime(timeString) {\r\n      if (!timeString) return '-'\r\n      try {\r\n        const date = new Date(timeString)\r\n        return date.toLocaleDateString('zh-CN') + ' ' + date.toLocaleTimeString('zh-CN', { hour: '2-digit', minute: '2-digit' })\r\n      } catch {\r\n        return timeString\r\n      }\r\n    },\r\n\r\n    // 评价操作\r\n    viewFeedbackDetail(feedback) {\r\n      this.selectedFeedback = { ...feedback }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/* 基础样式复用 */\r\n.management-section {\r\n  background: white;\r\n  border: 1px solid #e0e0e0;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.section-header {\r\n  padding: 16px;\r\n  border-bottom: none;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.section-header h3 {\r\n  margin: 0;\r\n  color: #1a237e;\r\n  font-size: 34px;\r\n}\r\n\r\n.section-actions {\r\n  display: flex;\r\n  gap: 12px;\r\n  align-items: center;\r\n}\r\n\r\n/* 筛选控件 */\r\n.filter-select {\r\n  padding: 6px 12px;\r\n  border: 1px solid #d0d0d0;\r\n  background: white;\r\n  color: #333;\r\n  font-size: 13px;\r\n  border-radius: 2px;\r\n  min-width: 140px;\r\n}\r\n\r\n.filter-select:focus {\r\n  outline: none;\r\n  border-color: #1a237e;\r\n}\r\n\r\n/* 加载状态 */\r\n.loading-state {\r\n  padding: 40px;\r\n  text-align: center;\r\n  color: #666;\r\n  background: #fafafa;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n\r\n.spinner {\r\n  width: 30px;\r\n  height: 30px;\r\n  border: 3px solid #f3f3f3;\r\n  border-top: 3px solid #1a237e;\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n}\r\n\r\n@keyframes spin {\r\n  0% { transform: rotate(0deg); }\r\n  100% { transform: rotate(360deg); }\r\n}\r\n\r\n/* 表格样式 */\r\n.table-container {\r\n  overflow-x: auto;\r\n  min-height: 400px;\r\n}\r\n\r\n.product-header {\r\n  padding: 12px 16px;\r\n  background: #f8f9ff;\r\n  border-bottom: 1px solid #e0e0e0;\r\n  border-top: 1px solid #e0e0e0; /* ← 添加这一行 */\r\n}\r\n\r\n.product-name {\r\n  font-weight: 600;\r\n  color: #1a237e;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.product-stats {\r\n  font-size: 12px;\r\n  color: #666;\r\n}\r\n\r\n.data-table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  font-size: 13px;\r\n}\r\n\r\n.data-table th {\r\n  background: #f8f9ff;\r\n  padding: 12px;\r\n  text-align: center;\r\n  font-weight: 600;\r\n  color: #1a237e;\r\n  border-bottom: 1px solid #e0e0e0;\r\n  border-top: 1px solid #e0e0e0; /* ← 添加这一行 */\r\n  white-space: nowrap;\r\n}\r\n\r\n.text-left {\r\n  text-align: left !important;\r\n  justify-content: flex-start !important;\r\n}\r\n\r\n.data-table td {\r\n  padding: 12px;\r\n  border-bottom: 1px solid #f0f0f0;\r\n  vertical-align: middle;\r\n  text-align: center;\r\n}\r\n\r\n.data-table tbody tr:hover {\r\n  background: #f8f9ff;\r\n}\r\n\r\n.center-content {\r\n  justify-content: center;\r\n}\r\n\r\n.id-text {\r\n  font-weight: bold;\r\n}\r\n\r\n.product-cell {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  justify-content: flex-start;\r\n}\r\n\r\n.user-avatar-sm {\r\n  width: 32px;\r\n  height: 32px;\r\n  background: #3949ab;\r\n  color: white;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-weight: bold;\r\n  font-size: 14px;\r\n  border-radius: 2px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.product-name-text {\r\n  font-weight: bold;\r\n  color: #333;\r\n}\r\n\r\n.product-badge {\r\n  background: #e3f2fd;\r\n  color: #1565c0;\r\n  padding: 2px 6px;\r\n  border-radius: 2px;\r\n  font-size: 12px;\r\n}\r\n\r\n/* 评分星星 */\r\n.rating-display {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  justify-content: flex-start;\r\n}\r\n\r\n.rating-stars {\r\n  display: flex;\r\n  gap: 1px;\r\n}\r\n\r\n.star {\r\n  color: #e0e0e0;\r\n  font-size: 14px;\r\n}\r\n\r\n.star.filled {\r\n  color: #ff9800;\r\n}\r\n\r\n.rating-value {\r\n  color: #f57c00;\r\n  font-weight: 500;\r\n  font-size: 12px;\r\n}\r\n\r\n.comment-content {\r\n  max-width: 300px;\r\n  color: #555;\r\n  line-height: 1.4;\r\n  text-align: left; /* 评论内容太长，还是左对齐比较好阅读，虽然在中间格子里 */\r\n  margin: 0;\r\n}\r\n\r\n/* 按钮 */\r\n.action-buttons {\r\n  display: flex;\r\n  gap: 6px;\r\n  justify-content: center;\r\n}\r\n\r\n.btn-view {\r\n  padding: 4px 10px;\r\n  border: none;\r\n  border-radius: 2px;\r\n  font-size: 12px;\r\n  cursor: pointer;\r\n  background: #eeeeee;\r\n  color: #757575; /* 灰色 */\r\n}\r\n\r\n.btn-view:hover {\r\n  background: #e0e0e0;\r\n}\r\n\r\n.empty-state {\r\n  padding: 40px;\r\n  text-align: center;\r\n  color: #999;\r\n}\r\n\r\n/* 表格底部 */\r\n.table-footer {\r\n  padding: 16px;\r\n  border-top: 1px solid #f0f0f0;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  background: #fafafa;\r\n}\r\n\r\n.pagination-info {\r\n  color: #666;\r\n  font-size: 13px;\r\n}\r\n\r\n.pagination {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n}\r\n\r\n.pagination-btn {\r\n  padding: 6px 12px;\r\n  border: 1px solid #d0d0d0;\r\n  background: white;\r\n  cursor: pointer;\r\n  color: #333;\r\n  font-size: 13px;\r\n}\r\n\r\n.pagination-btn:disabled {\r\n  cursor: not-allowed;\r\n  color: #999;\r\n  background: #f5f5f5;\r\n}\r\n\r\n.pagination-current {\r\n  padding: 6px 12px;\r\n  background: #1a237e;\r\n  color: white;\r\n  font-size: 13px;\r\n  font-weight: 500;\r\n}\r\n\r\n/* 模态框 */\r\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0; left: 0; right: 0; bottom: 0;\r\n  background: rgba(0,0,0,0.5);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 1000;\r\n}\r\n\r\n.modal {\r\n  background: white;\r\n  width: 500px;\r\n  max-width: 90%;\r\n  border-radius: 2px;\r\n  box-shadow: 0 4px 12px rgba(0,0,0,0.15);\r\n}\r\n\r\n.modal-header {\r\n  padding: 16px;\r\n  border-bottom: 1px solid #eee;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.modal-header h3 {\r\n  margin: 0;\r\n  font-size: 16px;\r\n  color: #333;\r\n}\r\n\r\n.modal-close {\r\n  background: none;\r\n  border: none;\r\n  font-size: 20px;\r\n  cursor: pointer;\r\n  color: #999;\r\n}\r\n\r\n.modal-body {\r\n  padding: 20px;\r\n}\r\n\r\n.feedback-detail {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n}\r\n\r\n.detail-row {\r\n  display: flex;\r\n  gap: 20px;\r\n}\r\n\r\n.detail-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.detail-item label {\r\n  color: #666;\r\n  font-size: 13px;\r\n}\r\n\r\n.detail-item span {\r\n  color: #333;\r\n  font-weight: 500;\r\n  font-size: 14px;\r\n}\r\n\r\n.detail-section h4 {\r\n  margin: 0 0 8px 0;\r\n  font-size: 14px;\r\n  color: #1a237e;\r\n  border-bottom: 1px solid #eee;\r\n  padding-bottom: 4px;\r\n}\r\n\r\n.rating-large {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n\r\n.star-large {\r\n  font-size: 24px;\r\n  color: #e0e0e0;\r\n}\r\n\r\n.star-large.filled {\r\n  color: #ff9800;\r\n}\r\n\r\n.rating-value-large {\r\n  font-size: 18px;\r\n  color: #f57c00;\r\n  font-weight: bold;\r\n}\r\n\r\n.comment-content-large {\r\n  padding: 12px;\r\n  background: #f9f9f9;\r\n  border-radius: 4px;\r\n  color: #333;\r\n  line-height: 1.6;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}