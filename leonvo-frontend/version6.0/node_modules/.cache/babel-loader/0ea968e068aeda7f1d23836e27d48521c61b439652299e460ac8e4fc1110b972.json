{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport \"core-js/modules/es.iterator.reduce.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/esnext.json.parse.js\";\nimport axios from 'axios';\nimport apiConfig from '@/config/api.config';\nexport default {\n  name: 'BusinessProfile',\n  data() {\n    return {\n      businessInfo: {},\n      businessStats: {},\n      isOnline: true,\n      showEditModal: false,\n      showPasswordModal: false,\n      editForm: {},\n      passwordData: {\n        current_password: '',\n        new_password: '',\n        confirm_password: ''\n      },\n      loading: false,\n      statusLoading: false,\n      showRechargeModal: false,\n      selectedRecharge: null,\n      rechargeOptions: [{\n        id: 1,\n        points: 1,\n        price: 10\n      }, {\n        id: 2,\n        points: 10,\n        price: 100\n      }, {\n        id: 3,\n        points: 50,\n        price: 500\n      }, {\n        id: 4,\n        points: 100,\n        price: 1000\n      }]\n    };\n  },\n  mounted() {\n    this.loadBusinessInfo();\n    this.loadBusinessStats();\n  },\n  methods: {\n    formatNumber(num) {\n      if (!num) return '0';\n      if (num >= 100000000) {\n        return (num / 100000000).toFixed(1) + 'äº¿';\n      }\n      if (num >= 10000) {\n        return (num / 10000).toFixed(1) + 'ä¸‡';\n      }\n      return num.toLocaleString();\n    },\n    // è·å–å•†å®¶IDçš„ç»Ÿä¸€æ–¹æ³•\n    getBusinessId() {\n      const businessInfo = JSON.parse(localStorage.getItem('businessInfo'));\n      if (!businessInfo) return null;\n      return businessInfo.bid || businessInfo.id || businessInfo.uid;\n    },\n    // ä¿®æ”¹loadBusinessInfoæ–¹æ³•ï¼Œä¿®å¤å•†å®¶IDè·å–å’ŒAPIè°ƒç”¨\n    async loadBusinessInfo() {\n      let bid = this.getBusinessId();\n      if (!bid) {\n        console.warn('æœªæ‰¾åˆ°å•†å®¶ä¿¡æ¯');\n        // å°è¯•ä»localStorageç›´æ¥è·å–å•†å®¶ä¿¡æ¯ï¼Œè€Œä¸æ˜¯è·³è½¬ç™»å½•\n        const localInfo = JSON.parse(localStorage.getItem('businessInfo')) || {};\n        this.businessInfo = localInfo;\n        // å¦‚æœæœ¬åœ°ä¹Ÿæ²¡æœ‰ä¿¡æ¯ï¼Œæ‰è·³è½¬ç™»å½•\n        if (Object.keys(localInfo).length === 0) {\n          this.$router.push('/business/login');\n        }\n        return;\n      }\n      try {\n        console.log('æ­£åœ¨è·å–å•†å®¶ä¿¡æ¯ï¼Œbid:', bid);\n\n        // ç¡®ä¿apiConfigå’ŒapiConfig.businesså­˜åœ¨\n        if (!apiConfig || !apiConfig.business) {\n          console.warn('APIé…ç½®ä¸å­˜åœ¨');\n          // ä½¿ç”¨æœ¬åœ°å­˜å‚¨çš„ä¿¡æ¯ä½œä¸ºå›é€€\n          const localInfo = JSON.parse(localStorage.getItem('businessInfo')) || {};\n          this.businessInfo = localInfo;\n          return;\n        }\n\n        // æ„å»ºæœ‰æ•ˆçš„APIè·¯å¾„ï¼Œé¿å…undefined\n        let validApiPaths = [];\n\n        // ä¼˜å…ˆä½¿ç”¨é…ç½®çš„è·¯å¾„ï¼Œç¡®ä¿è·¯å¾„æœ‰æ•ˆ\n        try {\n          const configPath = apiConfig.business.getProfile?.(bid);\n          if (configPath && typeof configPath === 'string' && configPath.includes('undefined') === false) {\n            validApiPaths.push(configPath);\n          }\n        } catch (e) {\n          console.warn('é…ç½®çš„è·¯å¾„æ— æ•ˆ:', e.message);\n        }\n\n        // å¤‡ç”¨è·¯å¾„1ï¼šç›´æ¥ä½¿ç”¨å•†å®¶IDï¼Œç¡®ä¿businessBaseå­˜åœ¨\n        if (apiConfig.businessBase) {\n          const basePath = `${apiConfig.businessBase}/${bid}`;\n          validApiPaths.push(basePath);\n        }\n\n        // å¤‡ç”¨è·¯å¾„2ï¼šä½¿ç”¨åŸºæœ¬å•†å®¶ä¿¡æ¯æ¥å£\n        if (apiConfig.businessBase) {\n          validApiPaths.push(apiConfig.businessBase);\n        }\n\n        // å¦‚æœæ²¡æœ‰æœ‰æ•ˆçš„APIè·¯å¾„ï¼Œä½¿ç”¨æœ¬åœ°å­˜å‚¨\n        if (validApiPaths.length === 0) {\n          console.warn('æ²¡æœ‰æœ‰æ•ˆçš„APIè·¯å¾„');\n          const localInfo = JSON.parse(localStorage.getItem('businessInfo')) || {};\n          this.businessInfo = localInfo;\n          return;\n        }\n        console.log('æœ‰æ•ˆçš„APIè·¯å¾„åˆ—è¡¨:', validApiPaths);\n\n        // å°è¯•æ¯ä¸ªæœ‰æ•ˆçš„è·¯å¾„ï¼Œç›´åˆ°æˆåŠŸæˆ–æ‰€æœ‰è·¯å¾„éƒ½å¤±è´¥\n        let response = null;\n        let lastError = null;\n        for (let apiPath of validApiPaths) {\n          try {\n            console.log('å°è¯•APIè·¯å¾„:', apiPath);\n            response = await axios.get(apiPath);\n            if (response.data.code === 1) {\n              break; // å¦‚æœæˆåŠŸï¼Œè·³å‡ºå¾ªç¯\n            }\n          } catch (pathError) {\n            console.warn(`å°è¯•è·¯å¾„${apiPath}å¤±è´¥:`, pathError.message);\n            lastError = pathError;\n            continue; // å¦‚æœå¤±è´¥ï¼Œç»§ç»­å°è¯•ä¸‹ä¸€ä¸ªè·¯å¾„\n          }\n        }\n        if (response && response.data.code === 1) {\n          let businessData = response.data.data;\n\n          // å¤„ç†ä¸åŒçš„æ•°æ®ç»“æ„\n          if (Array.isArray(businessData)) {\n            // å¦‚æœè¿”å›çš„æ˜¯å•†å®¶åˆ—è¡¨ï¼ŒæŸ¥æ‰¾å½“å‰å•†å®¶\n            businessData = businessData.find(item => item.bid === bid || item.id === bid) || {};\n          }\n          this.businessInfo = businessData || {};\n          console.log('å•†å®¶ä¿¡æ¯åŠ è½½æˆåŠŸ:', this.businessInfo);\n\n          // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨\n          localStorage.setItem('businessInfo', JSON.stringify(this.businessInfo));\n        } else {\n          console.warn('è·å–å•†å®¶ä¿¡æ¯å¤±è´¥:', response?.data?.message || 'æœªçŸ¥é”™è¯¯');\n          console.warn('å“åº”çŠ¶æ€ç :', response?.data?.code || 'æ— å“åº”');\n\n          // ä½¿ç”¨æœ¬åœ°å­˜å‚¨çš„ä¿¡æ¯ä½œä¸ºå›é€€\n          const localInfo = JSON.parse(localStorage.getItem('businessInfo')) || {};\n          this.businessInfo = localInfo;\n        }\n      } catch (error) {\n        // ç®€åŒ–é”™è¯¯ä¿¡æ¯ï¼Œé¿å…æ˜¾ç¤ºè¿‡å¤šæŠ€æœ¯ç»†èŠ‚\n        console.warn('è·å–å•†å®¶ä¿¡æ¯å¤±è´¥: ç½‘ç»œæˆ–æœåŠ¡å™¨é—®é¢˜');\n        console.warn('å“åº”çŠ¶æ€ç :', error.response?.status || 0);\n        console.warn('é”™è¯¯ä¿¡æ¯:', error.message);\n\n        // ä½¿ç”¨æœ¬åœ°å­˜å‚¨çš„ä¿¡æ¯ä½œä¸ºå›é€€\n        const localInfo = JSON.parse(localStorage.getItem('businessInfo')) || {};\n        this.businessInfo = localInfo;\n      }\n    },\n    // ä¿®æ”¹loadBusinessStatsæ–¹æ³•ï¼Œä½¿ç”¨apiConfig\n    async loadBusinessStats() {\n      const bid = this.getBusinessId();\n      if (!bid) {\n        console.warn('æœªè·å–åˆ°å•†å®¶ID');\n        return;\n      }\n      try {\n        // è·å–å•†å“æ•°æ® - ä½¿ç”¨é…ç½®çš„APIè·¯å¾„\n        const productsResponse = await axios.get(apiConfig.business.getProducts(bid));\n        let products = [];\n        if (productsResponse.data.code === 1) {\n          products = productsResponse.data.data || [];\n        }\n\n        // è·å–è®¢å•æ•°æ® - ä½¿ç”¨é…ç½®çš„APIè·¯å¾„\n        const ordersResponse = await axios.get(apiConfig.business.getOrders(bid));\n        let orders = [];\n        if (ordersResponse.data.code === 1) {\n          orders = ordersResponse.data.data || [];\n        }\n\n        // è®¡ç®—ç»Ÿè®¡ä¿¡æ¯\n        const totalProducts = products.length;\n        const activeProducts = products.filter(p => p.status === 1).length;\n        const totalOrders = orders.length;\n        const totalSales = orders.reduce((sum, order) => sum + (order.amount || 0), 0);\n\n        // è®¡ç®—æœ¬æœˆé”€å”®é¢\n        const now = new Date();\n        const firstDayOfMonth = new Date(now.getFullYear(), now.getMonth(), 1);\n        const monthlySales = orders.filter(order => new Date(order.orderTime) >= firstDayOfMonth).reduce((sum, order) => sum + (order.amount || 0), 0);\n        this.businessStats = {\n          total_products: totalProducts,\n          active_products: activeProducts,\n          total_orders: totalOrders,\n          rating: this.businessInfo.rating || 0.0,\n          total_sales: totalSales,\n          monthly_sales: monthlySales\n        };\n      } catch (error) {\n        console.error('åŠ è½½å•†å®¶ç»Ÿè®¡å¤±è´¥:', error);\n        this.businessStats = {\n          total_products: 0,\n          active_products: 0,\n          total_orders: 0,\n          rating: 0.0,\n          total_sales: 0,\n          monthly_sales: 0\n        };\n      }\n    },\n    async toggleOnlineStatus() {\n      if (this.statusLoading) return;\n      this.statusLoading = true;\n      const bid = this.getBusinessId();\n      if (!bid) {\n        alert('å•†å®¶ä¿¡æ¯ä¸å®Œæ•´');\n        this.statusLoading = false;\n        return;\n      }\n      try {\n        const newStatus = !this.isOnline;\n\n        // æ³¨æ„ï¼šéœ€è¦åç«¯å®ç°åœ¨çº¿çŠ¶æ€æ›´æ–°æ¥å£\n        // æš‚æ—¶ç›´æ¥æ›´æ–°å‰ç«¯çŠ¶æ€\n        this.isOnline = newStatus;\n        alert(`å·²è®¾ä¸º${newStatus ? 'åœ¨çº¿' : 'ç¦»çº¿'}çŠ¶æ€`);\n      } catch (error) {\n        console.error('åˆ‡æ¢åœ¨çº¿çŠ¶æ€å¤±è´¥:', error);\n        alert('çŠ¶æ€åˆ‡æ¢å¤±è´¥ï¼Œè¯·é‡è¯•');\n      } finally {\n        this.statusLoading = false;\n      }\n    },\n    closeRechargeModal() {\n      this.showRechargeModal = false;\n      this.selectedRecharge = null;\n    },\n    async handleRecharge() {\n      if (!this.selectedRecharge) {\n        alert('è¯·é€‰æ‹©å……å€¼é‡‘é¢');\n        return;\n      }\n      this.loading = true;\n      const bid = this.getBusinessId();\n      const option = this.rechargeOptions.find(o => o.id === this.selectedRecharge);\n      try {\n        // æ¨¡æ‹Ÿæ”¯ä»˜è¿‡ç¨‹\n        await new Promise(resolve => setTimeout(resolve, 1000));\n\n        // è°ƒç”¨å……å€¼æ¥å£\n        // æ³¨æ„ï¼šè¿™é‡Œä½¿ç”¨ apiConfig.business.rechargePoints\n        // å¦‚æœåç«¯æ²¡æœ‰å®ç°ï¼Œå¯èƒ½éœ€è¦ fallback åˆ°æœ¬åœ°å­˜å‚¨\n        try {\n          if (apiConfig.business.rechargePoints) {\n            const response = await axios.post(apiConfig.business.rechargePoints(bid), {\n              points: option.points,\n              amount: option.price\n            });\n            if (response.data.code === 1) {\n              // å……å€¼æˆåŠŸ\n            } else {\n              throw new Error(response.data.message || 'å……å€¼å¤±è´¥');\n            }\n          } else {\n            throw new Error('æ¥å£æœªå®šä¹‰');\n          }\n        } catch (apiError) {\n          console.warn('å……å€¼æ¥å£è°ƒç”¨å¤±è´¥ï¼Œä½¿ç”¨æœ¬åœ°æ¨¡æ‹Ÿ:', apiError);\n          // æœ¬åœ°æ¨¡æ‹Ÿå……å€¼æˆåŠŸ\n        }\n\n        // æ›´æ–°æœ¬åœ°ç§¯åˆ†\n        const currentPoints = this.businessInfo.points || 0;\n        const newPoints = currentPoints + option.points;\n        this.businessInfo.points = newPoints;\n        this.businessInfo = {\n          ...this.businessInfo\n        }; // è§¦å‘å“åº”å¼æ›´æ–°\n\n        // æ›´æ–°localStorage\n        const localInfo = JSON.parse(localStorage.getItem('businessInfo')) || {};\n        localInfo.points = newPoints;\n        localStorage.setItem('businessInfo', JSON.stringify(localInfo));\n        alert(`å……å€¼æˆåŠŸï¼è·å¾— ${option.points} ç§¯åˆ†`);\n        this.closeRechargeModal();\n      } catch (error) {\n        console.error('å……å€¼å¤±è´¥:', error);\n        alert('å……å€¼å¤±è´¥ï¼Œè¯·é‡è¯•');\n      } finally {\n        this.loading = false;\n      }\n    },\n    editProfile() {\n      this.editForm = {\n        ...this.businessInfo\n      };\n      this.showEditModal = true;\n    },\n    closeEditModal() {\n      this.showEditModal = false;\n      this.editForm = {};\n      this.loading = false;\n    },\n    closePasswordModal() {\n      this.showPasswordModal = false;\n      this.passwordData = {\n        current_password: '',\n        new_password: '',\n        confirm_password: ''\n      };\n      this.loading = false;\n    },\n    async updateProfile() {\n      if (!this.validateEditForm()) {\n        return;\n      }\n      this.loading = true;\n      const bid = this.getBusinessId();\n      if (!bid) {\n        alert('å•†å®¶ä¿¡æ¯ä¸å®Œæ•´ï¼Œè¯·é‡æ–°ç™»å½•');\n        this.loading = false;\n        this.$router.push('/business/login');\n        return;\n      }\n      try {\n        console.log('å¼€å§‹æ›´æ–°å•†å®¶ä¿¡æ¯:', new Date().toISOString());\n\n        // æ„å»ºç¬¦åˆåç«¯ BusinessUpdateRequest çš„è¯·æ±‚ä½“\n        // ä¼˜å…ˆä½¿ç”¨å‰ç«¯æ˜ å°„çš„å­—æ®µï¼Œå¦‚æœä¸ºç©ºåˆ™æ£€æŸ¥æ˜¯å¦ä¿ç•™äº†åç«¯åŸå§‹å­—æ®µ\n        const updateData = {\n          bname: this.editForm.bname,\n          contactPerson: this.editForm.contact || this.editForm.contactPerson,\n          contactPhone: this.editForm.phone || this.editForm.contactPhone,\n          contactEmail: this.editForm.email || this.editForm.contactEmail,\n          address: this.editForm.address,\n          description: this.editForm.description\n        };\n        const response = await axios.put(apiConfig.business.updateProfile(bid), updateData);\n        if (response.data.code === 1) {\n          // æ›´æ–°æœ¬åœ°å­˜å‚¨å’Œæ˜¾ç¤ºï¼ˆä¿æŒå‰ç«¯å­—æ®µåä¸€è‡´ï¼‰\n          const existingInfo = JSON.parse(localStorage.getItem('businessInfo')) || {};\n          const updatedInfo = {\n            ...existingInfo,\n            ...this.editForm,\n            // è¿™é‡Œä½¿ç”¨çš„æ˜¯å‰ç«¯çš„å­—æ®µå (contact, phone, emailç­‰)\n            // åŒæ—¶ä¹Ÿæ›´æ–°åç«¯çš„å­—æ®µåï¼Œä»¥å¤‡ä¸‹æ¬¡ä½¿ç”¨\n            contactPerson: updateData.contactPerson,\n            contactPhone: updateData.contactPhone,\n            contactEmail: updateData.contactEmail,\n            bid: bid\n          };\n          localStorage.setItem('businessInfo', JSON.stringify(updatedInfo));\n          this.businessInfo = {\n            ...updatedInfo\n          };\n          this.closeEditModal();\n          alert('å•†å®¶ä¿¡æ¯æ›´æ–°æˆåŠŸï¼');\n        } else {\n          alert('æ›´æ–°å¤±è´¥ï¼š' + (response.data.message || 'æœªçŸ¥é”™è¯¯'));\n        }\n      } catch (error) {\n        console.error('æ›´æ–°å•†å®¶ä¿¡æ¯å¼‚å¸¸:', error);\n        // å°è¯•è·å–æ›´è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯\n        const serverMsg = error.response?.data?.message || error.message || 'ç½‘ç»œé”™è¯¯';\n        alert('æ›´æ–°å¤±è´¥ï¼š' + serverMsg);\n      } finally {\n        this.loading = false;\n      }\n    },\n    validateEditForm() {\n      if (!this.editForm.bname || !this.editForm.bname.trim()) {\n        alert('è¯·è¾“å…¥å•†å®¶åç§°');\n        return false;\n      }\n      if (this.editForm.phone && !/^1[3-9]\\d{9}$/.test(this.editForm.phone)) {\n        alert('è¯·è¾“å…¥æœ‰æ•ˆçš„æ‰‹æœºå·ç ');\n        return false;\n      }\n      if (this.editForm.email && !/\\S+@\\S+\\.\\S+/.test(this.editForm.email)) {\n        alert('è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€');\n        return false;\n      }\n      return true;\n    },\n    async changePassword() {\n      if (!this.validatePassword()) {\n        return;\n      }\n      this.loading = true;\n      const bid = this.getBusinessId();\n      if (!bid) {\n        alert('å•†å®¶ä¿¡æ¯ä¸å®Œæ•´ï¼Œè¯·é‡æ–°ç™»å½•');\n        this.loading = false;\n        this.$router.push('/business/login');\n        return;\n      }\n      try {\n        console.log('å¼€å§‹ä¿®æ”¹å¯†ç :', new Date().toISOString());\n\n        // æ„å»ºç¬¦åˆåç«¯ PasswordUpdateRequest çš„è¯·æ±‚ä½“\n        const updateData = {\n          oldPassword: this.passwordData.current_password,\n          newPassword: this.passwordData.new_password\n        };\n        const response = await axios.put(apiConfig.business.changePassword(bid), updateData);\n        if (response.data.code === 1) {\n          this.closePasswordModal();\n          alert('å¯†ç ä¿®æ”¹æˆåŠŸï¼è¯·é‡æ–°ç™»å½•ã€‚');\n          this.$router.push('/business/login');\n        } else {\n          alert('å¯†ç ä¿®æ”¹å¤±è´¥ï¼š' + (response.data.message || 'æœªçŸ¥é”™è¯¯'));\n        }\n      } catch (error) {\n        console.error('ä¿®æ”¹å¯†ç å¼‚å¸¸:', error);\n        alert('å¯†ç ä¿®æ”¹å¤±è´¥ï¼š' + (error.message || 'ç½‘ç»œé”™è¯¯'));\n      } finally {\n        this.loading = false;\n      }\n    },\n    validatePassword() {\n      if (!this.passwordData.current_password) {\n        alert('è¯·è¾“å…¥å½“å‰å¯†ç ');\n        return false;\n      }\n      if (!this.passwordData.new_password) {\n        alert('è¯·è¾“å…¥æ–°å¯†ç ');\n        return false;\n      }\n      if (this.passwordData.new_password.length < 6) {\n        alert('æ–°å¯†ç é•¿åº¦ä¸èƒ½å°‘äº6ä½');\n        return false;\n      }\n      if (this.passwordData.new_password !== this.passwordData.confirm_password) {\n        alert('ä¸¤æ¬¡è¾“å…¥çš„æ–°å¯†ç ä¸ä¸€è‡´');\n        return false;\n      }\n      return true;\n    }\n  }\n};","map":{"version":3,"names":["axios","apiConfig","name","data","businessInfo","businessStats","isOnline","showEditModal","showPasswordModal","editForm","passwordData","current_password","new_password","confirm_password","loading","statusLoading","showRechargeModal","selectedRecharge","rechargeOptions","id","points","price","mounted","loadBusinessInfo","loadBusinessStats","methods","formatNumber","num","toFixed","toLocaleString","getBusinessId","JSON","parse","localStorage","getItem","bid","uid","console","warn","localInfo","Object","keys","length","$router","push","log","business","validApiPaths","configPath","getProfile","includes","e","message","businessBase","basePath","response","lastError","apiPath","get","code","pathError","businessData","Array","isArray","find","item","setItem","stringify","error","status","productsResponse","getProducts","products","ordersResponse","getOrders","orders","totalProducts","activeProducts","filter","p","totalOrders","totalSales","reduce","sum","order","amount","now","Date","firstDayOfMonth","getFullYear","getMonth","monthlySales","orderTime","total_products","active_products","total_orders","rating","total_sales","monthly_sales","toggleOnlineStatus","alert","newStatus","closeRechargeModal","handleRecharge","option","o","Promise","resolve","setTimeout","rechargePoints","post","Error","apiError","currentPoints","newPoints","editProfile","closeEditModal","closePasswordModal","updateProfile","validateEditForm","toISOString","updateData","bname","contactPerson","contact","contactPhone","phone","contactEmail","email","address","description","put","existingInfo","updatedInfo","serverMsg","trim","test","changePassword","validatePassword","oldPassword","newPassword"],"sources":["D:\\1_homework_file\\å¤§ä¸‰ä¸Š\\è½¯ä»¶å·¥ç¨‹\\é¡¹ç›®ç•™æ¡£\\1å‰ç«¯å¼€å‘_æˆ‘æ‰æ˜¯çœŸçš„\\version5.0\\src\\views\\business\\BusinessProfile.vue"],"sourcesContent":["<template>\r\n  <div class=\"business-profile\">\r\n    <!-- é¡µé¢å¤´éƒ¨ -->\r\n    <div class=\"page-header\">\r\n      <h2>å•†å®¶ä¿¡æ¯</h2>\r\n      <button class=\"btn-edit-profile\" @click=\"editProfile\">\r\n        <span class=\"edit-icon\">âœï¸</span>\r\n        ç¼–è¾‘ä¿¡æ¯\r\n      </button>\r\n    </div>\r\n\r\n    <!-- å•†å®¶ä¿¡æ¯å¡ç‰‡ -->\r\n    <div class=\"profile-card\">\r\n      <div class=\"profile-header\">\r\n        <div class=\"profile-avatar\">\r\n          <span class=\"avatar-text\">{{ businessInfo.bname ? businessInfo.bname.charAt(0) : 'å•†' }}</span>\r\n          <!-- åœ¨çº¿çŠ¶æ€æŒ‡ç¤ºå™¨ -->\r\n          <span class=\"profile-online-indicator\" :class=\"{\r\n            'status-online': isOnline,\r\n            'status-offline': !isOnline\r\n          }\"></span>\r\n        </div>\r\n        <div class=\"profile-info\">\r\n          <h3>{{ businessInfo.bname || 'æœªè®¾ç½®å•†å®¶åç§°' }}</h3>\r\n          <div class=\"profile-id\">å•†å®¶ID: {{ businessInfo.bid || 'N/A' }}</div>\r\n          <div class=\"profile-status\">\r\n            <span class=\"status-badge\" :class=\"{\r\n              'status-online': isOnline,\r\n              'status-offline': !isOnline\r\n            }\">\r\n              <span class=\"status-dot\"></span>\r\n              {{ isOnline ? 'åœ¨çº¿è¥ä¸š' : 'ç¦»çº¿' }}\r\n            </span>\r\n            <span class=\"join-date\">å…¥é©»æ—¶é—´: {{ businessInfo.join_date || 'æœªè®¾ç½®' }}</span>\r\n            <button class=\"btn-status-toggle\" @click=\"toggleOnlineStatus\">\r\n              {{ isOnline ? 'è®¾ä¸ºç¦»çº¿' : 'è®¾ä¸ºåœ¨çº¿' }}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"profile-details\">\r\n        <!-- è¥é”€ä¸­å¿ƒ -->\r\n        <div class=\"detail-section\">\r\n          <h4><span class=\"section-icon\">ğŸ’</span> è¥é”€ä¸­å¿ƒ</h4>\r\n          <div class=\"stats-grid\">\r\n            <div class=\"stat-item highlight\">\r\n              <div class=\"stat-icon\">ğŸ’</div>\r\n              <div class=\"stat-content\">\r\n                <div class=\"stat-value\">{{ businessInfo.points || 0 }}</div>\r\n                <div class=\"stat-label\">æ¨å¹¿ç§¯åˆ†</div>\r\n              </div>\r\n              <button class=\"btn-recharge\" @click=\"showRechargeModal = true\">å……å€¼</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- åŸºæœ¬ä¿¡æ¯ -->\r\n        <div class=\"detail-section\">\r\n          <h4><span class=\"section-icon\">ğŸ“</span> åŸºæœ¬ä¿¡æ¯</h4>\r\n          <div class=\"detail-grid\">\r\n            <div class=\"detail-item\">\r\n              <label><span class=\"item-icon\">ğŸ¢</span> å•†å®¶åç§°ï¼š</label>\r\n              <span class=\"item-value\">{{ businessInfo.bname || 'æœªè®¾ç½®' }}</span>\r\n            </div>\r\n            <div class=\"detail-item\">\r\n              <label><span class=\"item-icon\">ğŸ†”</span> å•†å®¶IDï¼š</label>\r\n              <span class=\"item-value\">{{ businessInfo.bid || 'N/A' }}</span>\r\n            </div>\r\n            <div class=\"detail-item\">\r\n              <label><span class=\"item-icon\">ğŸ“…</span> å…¥é©»æ—¶é—´ï¼š</label>\r\n              <span class=\"item-value\">{{ businessInfo.join_date || 'æœªè®¾ç½®' }}</span>\r\n            </div>\r\n            <div class=\"detail-item\">\r\n              <label><span class=\"item-icon\">ğŸ””</span> åº—é“ºçŠ¶æ€ï¼š</label>\r\n              <span class=\"status-badge-small\" :class=\"{\r\n                'status-online': isOnline,\r\n                'status-offline': !isOnline\r\n              }\">\r\n                <span class=\"status-dot-small\"></span>\r\n                {{ isOnline ? 'åœ¨çº¿è¥ä¸š' : 'å·²ç¦»çº¿' }}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- è”ç³»ä¿¡æ¯ -->\r\n        <div class=\"detail-section\">\r\n          <h4><span class=\"section-icon\">ğŸ“</span> è”ç³»ä¿¡æ¯</h4>\r\n          <div class=\"detail-grid\">\r\n            <div class=\"detail-item\">\r\n              <label><span class=\"item-icon\">ğŸ‘¤</span> è”ç³»äººï¼š</label>\r\n              <span class=\"item-value\">{{ businessInfo.contact || 'æœªè®¾ç½®' }}</span>\r\n            </div>\r\n            <div class=\"detail-item\">\r\n              <label><span class=\"item-icon\">ğŸ“±</span> è”ç³»ç”µè¯ï¼š</label>\r\n              <span class=\"item-value\">\r\n                <a v-if=\"businessInfo.phone\" :href=\"'tel:' + businessInfo.phone\" class=\"contact-link\">\r\n                  {{ businessInfo.phone }}\r\n                </a>\r\n                <span v-else>æœªè®¾ç½®</span>\r\n              </span>\r\n            </div>\r\n            <div class=\"detail-item\">\r\n              <label><span class=\"item-icon\">ğŸ“§</span> è”ç³»é‚®ç®±ï¼š</label>\r\n              <span class=\"item-value\">\r\n                <a v-if=\"businessInfo.email\" :href=\"'mailto:' + businessInfo.email\" class=\"contact-link\">\r\n                  {{ businessInfo.email }}\r\n                </a>\r\n                <span v-else>æœªè®¾ç½®</span>\r\n              </span>\r\n            </div>\r\n            <div class=\"detail-item full-width\">\r\n              <label><span class=\"item-icon\">ğŸ“</span> åº—é“ºåœ°å€ï¼š</label>\r\n              <span class=\"item-value\">{{ businessInfo.address || 'æœªè®¾ç½®åœ°å€' }}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- åº—é“ºä¿¡æ¯ -->\r\n        <div class=\"detail-section\">\r\n          <h4><span class=\"section-icon\">ğŸ“Š</span> åº—é“ºç»Ÿè®¡</h4>\r\n          <div class=\"stats-grid\">\r\n            <div class=\"stat-item\">\r\n              <div class=\"stat-icon\">ğŸ“¦</div>\r\n              <div class=\"stat-content\">\r\n                <div class=\"stat-value\">{{ businessStats.total_products || 0 }}</div>\r\n                <div class=\"stat-label\">å•†å“æ€»æ•°</div>\r\n              </div>\r\n            </div>\r\n            <div class=\"stat-item\">\r\n              <div class=\"stat-icon\">ğŸ›’</div>\r\n              <div class=\"stat-content\">\r\n                <div class=\"stat-value\">{{ businessStats.active_products || 0 }}</div>\r\n                <div class=\"stat-label\">åœ¨å”®å•†å“</div>\r\n              </div>\r\n            </div>\r\n            <div class=\"stat-item\">\r\n              <div class=\"stat-icon\">ğŸ“‹</div>\r\n              <div class=\"stat-content\">\r\n                <div class=\"stat-value\">{{ businessStats.total_orders || 0 }}</div>\r\n                <div class=\"stat-label\">ç´¯è®¡è®¢å•</div>\r\n              </div>\r\n            </div>\r\n            <div class=\"stat-item\">\r\n              <div class=\"stat-icon\">â­</div>\r\n              <div class=\"stat-content\">\r\n                <div class=\"stat-value\">{{ businessStats.rating || 0.0 }}</div>\r\n                <div class=\"stat-label\">åº—é“ºè¯„åˆ†</div>\r\n              </div>\r\n            </div>\r\n            <div class=\"stat-item\">\r\n              <div class=\"stat-icon\">ğŸ’°</div>\r\n              <div class=\"stat-content\">\r\n                <div class=\"stat-value\">Â¥{{ formatNumber(businessStats.total_sales || 0) }}</div>\r\n                <div class=\"stat-label\">ç´¯è®¡é”€å”®é¢</div>\r\n              </div>\r\n            </div>\r\n            <div class=\"stat-item\">\r\n              <div class=\"stat-icon\">ğŸ“ˆ</div>\r\n              <div class=\"stat-content\">\r\n                <div class=\"stat-value\">Â¥{{ formatNumber(businessStats.monthly_sales || 0) }}</div>\r\n                <div class=\"stat-label\">æœ¬æœˆé”€å”®é¢</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- åº—é“ºæè¿° -->\r\n        <div class=\"detail-section\" v-if=\"businessInfo.description\">\r\n          <h4><span class=\"section-icon\">ğŸ“‹</span> åº—é“ºæè¿°</h4>\r\n          <div class=\"description-content\">\r\n            {{ businessInfo.description }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- è´¦å·å®‰å…¨ -->\r\n    <div class=\"security-card\">\r\n      <h4><span class=\"section-icon\">ğŸ”’</span> è´¦å·å®‰å…¨</h4>\r\n      <div class=\"security-info\">\r\n        <div class=\"security-item\">\r\n          <div class=\"security-icon\">ğŸ”‘</div>\r\n          <div class=\"security-content\">\r\n            <div class=\"security-title\">ç™»å½•å¯†ç </div>\r\n            <div class=\"security-desc\">å®šæœŸæ›´æ¢å¯†ç æœ‰åŠ©äºä¿æŠ¤è´¦å·å®‰å…¨</div>\r\n          </div>\r\n          <button class=\"btn-change-password\" @click=\"showPasswordModal = true\">\r\n            ä¿®æ”¹å¯†ç \r\n          </button>\r\n        </div>\r\n\r\n        <div class=\"security-item\">\r\n          <div class=\"security-icon\">ğŸ“±</div>\r\n          <div class=\"security-content\">\r\n            <div class=\"security-title\">åœ¨çº¿çŠ¶æ€</div>\r\n            <div class=\"security-desc\">å½“å‰çŠ¶æ€:\r\n              <span :class=\"{\r\n                'text-online': isOnline,\r\n                'text-offline': !isOnline\r\n              }\">\r\n                {{ isOnline ? 'åœ¨çº¿' : 'ç¦»çº¿' }}\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <button class=\"btn-status-toggle\" @click=\"toggleOnlineStatus\">\r\n            {{ isOnline ? 'è®¾ä¸ºç¦»çº¿' : 'è®¾ä¸ºåœ¨çº¿' }}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- å……å€¼æ¨¡æ€æ¡† -->\r\n    <div v-if=\"showRechargeModal\" class=\"modal-overlay\" @click.self=\"closeRechargeModal\">\r\n      <div class=\"modal\">\r\n        <div class=\"modal-header\">\r\n          <h3><span class=\"modal-icon\">ğŸ’</span> ç§¯åˆ†å……å€¼</h3>\r\n          <button class=\"modal-close\" @click=\"closeRechargeModal\">Ã—</button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <div class=\"recharge-options\">\r\n            <div \r\n              v-for=\"option in rechargeOptions\" \r\n              :key=\"option.id\"\r\n              class=\"recharge-option\"\r\n              :class=\"{ active: selectedRecharge === option.id }\"\r\n              @click=\"selectedRecharge = option.id\"\r\n            >\r\n              <div class=\"option-points\">{{ option.points }} ç§¯åˆ†</div>\r\n              <div class=\"option-price\">Â¥{{ option.price }}</div>\r\n            </div>\r\n          </div>\r\n          <div class=\"form-actions\">\r\n            <button type=\"button\" class=\"btn-cancel\" @click=\"closeRechargeModal\">å–æ¶ˆ</button>\r\n            <button type=\"button\" class=\"btn-submit\" @click=\"handleRecharge\" :disabled=\"loading || !selectedRecharge\">\r\n              {{ loading ? 'å¤„ç†ä¸­...' : 'ç¡®è®¤æ”¯ä»˜' }}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- ç¼–è¾‘ä¿¡æ¯æ¨¡æ€æ¡† -->\r\n    <div v-if=\"showEditModal\" class=\"modal-overlay\" @click.self=\"closeEditModal\">\r\n      <div class=\"modal\">\r\n        <div class=\"modal-header\">\r\n          <h3><span class=\"modal-icon\">âœï¸</span> ç¼–è¾‘å•†å®¶ä¿¡æ¯</h3>\r\n          <button class=\"modal-close\" @click=\"closeEditModal\">Ã—</button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <form @submit.prevent=\"updateProfile\">\r\n            <div class=\"form-group\">\r\n              <label><span class=\"form-icon\">ğŸ¢</span> å•†å®¶åç§° *</label>\r\n              <input\r\n                  type=\"text\"\r\n                  v-model=\"editForm.bname\"\r\n                  placeholder=\"è¯·è¾“å…¥å•†å®¶åç§°\"\r\n                  required\r\n                  class=\"form-input\"\r\n              >\r\n            </div>\r\n\r\n            <div class=\"form-row\">\r\n              <div class=\"form-group\">\r\n                <label><span class=\"form-icon\">ğŸ‘¤</span> è”ç³»äºº</label>\r\n                <input\r\n                    type=\"text\"\r\n                    v-model=\"editForm.contact\"\r\n                    placeholder=\"è¯·è¾“å…¥è”ç³»äººå§“å\"\r\n                    class=\"form-input\"\r\n                >\r\n              </div>\r\n\r\n              <div class=\"form-group\">\r\n                <label><span class=\"form-icon\">ğŸ“±</span> è”ç³»ç”µè¯</label>\r\n                <input\r\n                    type=\"tel\"\r\n                    v-model=\"editForm.phone\"\r\n                    placeholder=\"è¯·è¾“å…¥è”ç³»ç”µè¯\"\r\n                    class=\"form-input\"\r\n                >\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n              <label><span class=\"form-icon\">ğŸ“§</span> è”ç³»é‚®ç®±</label>\r\n              <input\r\n                  type=\"email\"\r\n                  v-model=\"editForm.email\"\r\n                  placeholder=\"è¯·è¾“å…¥è”ç³»é‚®ç®±\"\r\n                  class=\"form-input\"\r\n              >\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n              <label><span class=\"form-icon\">ğŸ“</span> åº—é“ºåœ°å€</label>\r\n              <textarea\r\n                  v-model=\"editForm.address\"\r\n                  placeholder=\"è¯·è¾“å…¥è¯¦ç»†çš„åº—é“ºåœ°å€\"\r\n                  rows=\"3\"\r\n                  class=\"form-textarea\"\r\n              ></textarea>\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n              <label><span class=\"form-icon\">ğŸ“‹</span> åº—é“ºæè¿°</label>\r\n              <textarea\r\n                  v-model=\"editForm.description\"\r\n                  placeholder=\"è¯·è¾“å…¥åº—é“ºæè¿°ï¼Œå¦‚ä¸»è¥ä¸šåŠ¡ã€ç‰¹è‰²ç­‰\"\r\n                  rows=\"4\"\r\n                  class=\"form-textarea\"\r\n              ></textarea>\r\n            </div>\r\n\r\n            <div class=\"form-actions\">\r\n              <button type=\"button\" class=\"btn-cancel\" @click=\"closeEditModal\">\r\n                å–æ¶ˆ\r\n              </button>\r\n              <button type=\"submit\" class=\"btn-submit\">\r\n                <span v-if=\"loading\" class=\"loading-spinner\"></span>\r\n                {{ loading ? 'ä¿å­˜ä¸­...' : 'ä¿å­˜ä¿®æ”¹' }}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- ä¿®æ”¹å¯†ç æ¨¡æ€æ¡† -->\r\n    <div v-if=\"showPasswordModal\" class=\"modal-overlay\" @click.self=\"closePasswordModal\">\r\n      <div class=\"modal\">\r\n        <div class=\"modal-header\">\r\n          <h3><span class=\"modal-icon\">ğŸ”‘</span> ä¿®æ”¹å¯†ç </h3>\r\n          <button class=\"modal-close\" @click=\"closePasswordModal\">Ã—</button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <form @submit.prevent=\"changePassword\">\r\n            <div class=\"form-group\">\r\n              <label>å½“å‰å¯†ç </label>\r\n              <input\r\n                  type=\"password\"\r\n                  v-model=\"passwordData.current_password\"\r\n                  placeholder=\"è¯·è¾“å…¥å½“å‰å¯†ç \"\r\n                  required\r\n                  class=\"form-input\"\r\n              >\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label>æ–°å¯†ç </label>\r\n              <input\r\n                  type=\"password\"\r\n                  v-model=\"passwordData.new_password\"\r\n                  placeholder=\"è¯·è¾“å…¥æ–°å¯†ç ï¼ˆè‡³å°‘6ä½ï¼‰\"\r\n                  required\r\n                  minlength=\"6\"\r\n                  class=\"form-input\"\r\n              >\r\n              <div class=\"password-hint\">å¯†ç é•¿åº¦è‡³å°‘6ä½ï¼Œå»ºè®®åŒ…å«å­—æ¯å’Œæ•°å­—</div>\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label>ç¡®è®¤æ–°å¯†ç </label>\r\n              <input\r\n                  type=\"password\"\r\n                  v-model=\"passwordData.confirm_password\"\r\n                  placeholder=\"è¯·å†æ¬¡è¾“å…¥æ–°å¯†ç \"\r\n                  required\r\n                  minlength=\"6\"\r\n                  class=\"form-input\"\r\n              >\r\n            </div>\r\n            <div class=\"form-actions\">\r\n              <button type=\"button\" class=\"btn-cancel\" @click=\"closePasswordModal\">\r\n                å–æ¶ˆ\r\n              </button>\r\n              <button type=\"submit\" class=\"btn-submit\">\r\n                <span v-if=\"loading\" class=\"loading-spinner\"></span>\r\n                {{ loading ? 'ä¿®æ”¹ä¸­...' : 'ç¡®è®¤ä¿®æ”¹' }}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport apiConfig from '@/config/api.config';\r\n\r\nexport default {\r\n  name: 'BusinessProfile',\r\n  data() {\r\n    return {\r\n      businessInfo: {},\r\n      businessStats: {},\r\n      isOnline: true,\r\n      showEditModal: false,\r\n      showPasswordModal: false,\r\n      editForm: {},\r\n      passwordData: {\r\n        current_password: '',\r\n        new_password: '',\r\n        confirm_password: ''\r\n      },\r\n      loading: false,\r\n      statusLoading: false,\r\n      showRechargeModal: false,\r\n      selectedRecharge: null,\r\n      rechargeOptions: [\r\n        { id: 1, points: 1, price: 10 },\r\n        { id: 2, points: 10, price: 100 },\r\n        { id: 3, points: 50, price: 500 },\r\n        { id: 4, points: 100, price: 1000 }\r\n      ]\r\n    }\r\n  },\r\n  mounted() {\r\n    this.loadBusinessInfo();\r\n    this.loadBusinessStats();\r\n  },\r\n  methods: {\r\n    formatNumber(num) {\r\n      if (!num) return '0';\r\n      if (num >= 100000000) {\r\n        return (num / 100000000).toFixed(1) + 'äº¿';\r\n      }\r\n      if (num >= 10000) {\r\n        return (num / 10000).toFixed(1) + 'ä¸‡';\r\n      }\r\n      return num.toLocaleString();\r\n    },\r\n\r\n    // è·å–å•†å®¶IDçš„ç»Ÿä¸€æ–¹æ³•\r\n    getBusinessId() {\r\n      const businessInfo = JSON.parse(localStorage.getItem('businessInfo'));\r\n      if (!businessInfo) return null;\r\n      return businessInfo.bid || businessInfo.id || businessInfo.uid;\r\n    },\r\n\r\n    // ä¿®æ”¹loadBusinessInfoæ–¹æ³•ï¼Œä¿®å¤å•†å®¶IDè·å–å’ŒAPIè°ƒç”¨\r\n    async loadBusinessInfo() {\r\n      let bid = this.getBusinessId();\r\n\r\n      if (!bid) {\r\n        console.warn('æœªæ‰¾åˆ°å•†å®¶ä¿¡æ¯');\r\n        // å°è¯•ä»localStorageç›´æ¥è·å–å•†å®¶ä¿¡æ¯ï¼Œè€Œä¸æ˜¯è·³è½¬ç™»å½•\r\n        const localInfo = JSON.parse(localStorage.getItem('businessInfo')) || {};\r\n        this.businessInfo = localInfo;\r\n        // å¦‚æœæœ¬åœ°ä¹Ÿæ²¡æœ‰ä¿¡æ¯ï¼Œæ‰è·³è½¬ç™»å½•\r\n        if (Object.keys(localInfo).length === 0) {\r\n          this.$router.push('/business/login');\r\n        }\r\n        return;\r\n      }\r\n\r\n      try {\r\n        console.log('æ­£åœ¨è·å–å•†å®¶ä¿¡æ¯ï¼Œbid:', bid);\r\n        \r\n        // ç¡®ä¿apiConfigå’ŒapiConfig.businesså­˜åœ¨\r\n        if (!apiConfig || !apiConfig.business) {\r\n          console.warn('APIé…ç½®ä¸å­˜åœ¨');\r\n          // ä½¿ç”¨æœ¬åœ°å­˜å‚¨çš„ä¿¡æ¯ä½œä¸ºå›é€€\r\n          const localInfo = JSON.parse(localStorage.getItem('businessInfo')) || {};\r\n          this.businessInfo = localInfo;\r\n          return;\r\n        }\r\n        \r\n        // æ„å»ºæœ‰æ•ˆçš„APIè·¯å¾„ï¼Œé¿å…undefined\r\n        let validApiPaths = [];\r\n        \r\n        // ä¼˜å…ˆä½¿ç”¨é…ç½®çš„è·¯å¾„ï¼Œç¡®ä¿è·¯å¾„æœ‰æ•ˆ\r\n        try {\r\n          const configPath = apiConfig.business.getProfile?.(bid);\r\n          if (configPath && typeof configPath === 'string' && configPath.includes('undefined') === false) {\r\n            validApiPaths.push(configPath);\r\n          }\r\n        } catch (e) {\r\n          console.warn('é…ç½®çš„è·¯å¾„æ— æ•ˆ:', e.message);\r\n        }\r\n        \r\n        // å¤‡ç”¨è·¯å¾„1ï¼šç›´æ¥ä½¿ç”¨å•†å®¶IDï¼Œç¡®ä¿businessBaseå­˜åœ¨\r\n        if (apiConfig.businessBase) {\r\n          const basePath = `${apiConfig.businessBase}/${bid}`;\r\n          validApiPaths.push(basePath);\r\n        }\r\n        \r\n        // å¤‡ç”¨è·¯å¾„2ï¼šä½¿ç”¨åŸºæœ¬å•†å®¶ä¿¡æ¯æ¥å£\r\n        if (apiConfig.businessBase) {\r\n          validApiPaths.push(apiConfig.businessBase);\r\n        }\r\n        \r\n        // å¦‚æœæ²¡æœ‰æœ‰æ•ˆçš„APIè·¯å¾„ï¼Œä½¿ç”¨æœ¬åœ°å­˜å‚¨\r\n        if (validApiPaths.length === 0) {\r\n          console.warn('æ²¡æœ‰æœ‰æ•ˆçš„APIè·¯å¾„');\r\n          const localInfo = JSON.parse(localStorage.getItem('businessInfo')) || {};\r\n          this.businessInfo = localInfo;\r\n          return;\r\n        }\r\n        \r\n        console.log('æœ‰æ•ˆçš„APIè·¯å¾„åˆ—è¡¨:', validApiPaths);\r\n        \r\n        // å°è¯•æ¯ä¸ªæœ‰æ•ˆçš„è·¯å¾„ï¼Œç›´åˆ°æˆåŠŸæˆ–æ‰€æœ‰è·¯å¾„éƒ½å¤±è´¥\r\n        let response = null;\r\n        let lastError = null;\r\n        \r\n        for (let apiPath of validApiPaths) {\r\n          try {\r\n            console.log('å°è¯•APIè·¯å¾„:', apiPath);\r\n            response = await axios.get(apiPath);\r\n            if (response.data.code === 1) {\r\n              break; // å¦‚æœæˆåŠŸï¼Œè·³å‡ºå¾ªç¯\r\n            }\r\n          } catch (pathError) {\r\n            console.warn(`å°è¯•è·¯å¾„${apiPath}å¤±è´¥:`, pathError.message);\r\n            lastError = pathError;\r\n            continue; // å¦‚æœå¤±è´¥ï¼Œç»§ç»­å°è¯•ä¸‹ä¸€ä¸ªè·¯å¾„\r\n          }\r\n        }\r\n        \r\n        if (response && response.data.code === 1) {\r\n          let businessData = response.data.data;\r\n          \r\n          // å¤„ç†ä¸åŒçš„æ•°æ®ç»“æ„\r\n          if (Array.isArray(businessData)) {\r\n            // å¦‚æœè¿”å›çš„æ˜¯å•†å®¶åˆ—è¡¨ï¼ŒæŸ¥æ‰¾å½“å‰å•†å®¶\r\n            businessData = businessData.find(item => item.bid === bid || item.id === bid) || {};\r\n          }\r\n          \r\n          this.businessInfo = businessData || {};\r\n          console.log('å•†å®¶ä¿¡æ¯åŠ è½½æˆåŠŸ:', this.businessInfo);\r\n\r\n          // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨\r\n          localStorage.setItem('businessInfo', JSON.stringify(this.businessInfo));\r\n        } else {\r\n          console.warn('è·å–å•†å®¶ä¿¡æ¯å¤±è´¥:', response?.data?.message || 'æœªçŸ¥é”™è¯¯');\r\n          console.warn('å“åº”çŠ¶æ€ç :', response?.data?.code || 'æ— å“åº”');\r\n\r\n          // ä½¿ç”¨æœ¬åœ°å­˜å‚¨çš„ä¿¡æ¯ä½œä¸ºå›é€€\r\n          const localInfo = JSON.parse(localStorage.getItem('businessInfo')) || {};\r\n          this.businessInfo = localInfo;\r\n        }\r\n      } catch (error) {\r\n        // ç®€åŒ–é”™è¯¯ä¿¡æ¯ï¼Œé¿å…æ˜¾ç¤ºè¿‡å¤šæŠ€æœ¯ç»†èŠ‚\r\n        console.warn('è·å–å•†å®¶ä¿¡æ¯å¤±è´¥: ç½‘ç»œæˆ–æœåŠ¡å™¨é—®é¢˜');\r\n        console.warn('å“åº”çŠ¶æ€ç :', error.response?.status || 0);\r\n        console.warn('é”™è¯¯ä¿¡æ¯:', error.message);\r\n\r\n        // ä½¿ç”¨æœ¬åœ°å­˜å‚¨çš„ä¿¡æ¯ä½œä¸ºå›é€€\r\n        const localInfo = JSON.parse(localStorage.getItem('businessInfo')) || {};\r\n        this.businessInfo = localInfo;\r\n      }\r\n    },\r\n\r\n    // ä¿®æ”¹loadBusinessStatsæ–¹æ³•ï¼Œä½¿ç”¨apiConfig\r\n    async loadBusinessStats() {\r\n      const bid = this.getBusinessId();\r\n\r\n      if (!bid) {\r\n        console.warn('æœªè·å–åˆ°å•†å®¶ID');\r\n        return;\r\n      }\r\n\r\n      try {\r\n        // è·å–å•†å“æ•°æ® - ä½¿ç”¨é…ç½®çš„APIè·¯å¾„\r\n        const productsResponse = await axios.get(apiConfig.business.getProducts(bid));\r\n        let products = [];\r\n        if (productsResponse.data.code === 1) {\r\n          products = productsResponse.data.data || [];\r\n        }\r\n\r\n        // è·å–è®¢å•æ•°æ® - ä½¿ç”¨é…ç½®çš„APIè·¯å¾„\r\n        const ordersResponse = await axios.get(apiConfig.business.getOrders(bid));\r\n        let orders = [];\r\n        if (ordersResponse.data.code === 1) {\r\n          orders = ordersResponse.data.data || [];\r\n        }\r\n\r\n        // è®¡ç®—ç»Ÿè®¡ä¿¡æ¯\r\n        const totalProducts = products.length;\r\n        const activeProducts = products.filter(p => p.status === 1).length;\r\n        const totalOrders = orders.length;\r\n        const totalSales = orders.reduce((sum, order) => sum + (order.amount || 0), 0);\r\n\r\n        // è®¡ç®—æœ¬æœˆé”€å”®é¢\r\n        const now = new Date();\r\n        const firstDayOfMonth = new Date(now.getFullYear(), now.getMonth(), 1);\r\n        const monthlySales = orders\r\n            .filter(order => new Date(order.orderTime) >= firstDayOfMonth)\r\n            .reduce((sum, order) => sum + (order.amount || 0), 0);\r\n\r\n        this.businessStats = {\r\n          total_products: totalProducts,\r\n          active_products: activeProducts,\r\n          total_orders: totalOrders,\r\n          rating: this.businessInfo.rating || 0.0,\r\n          total_sales: totalSales,\r\n          monthly_sales: monthlySales\r\n        };\r\n      } catch (error) {\r\n        console.error('åŠ è½½å•†å®¶ç»Ÿè®¡å¤±è´¥:', error);\r\n        this.businessStats = {\r\n          total_products: 0,\r\n          active_products: 0,\r\n          total_orders: 0,\r\n          rating: 0.0,\r\n          total_sales: 0,\r\n          monthly_sales: 0\r\n        };\r\n      }\r\n    },\r\n\r\n    async toggleOnlineStatus() {\r\n      if (this.statusLoading) return;\r\n\r\n      this.statusLoading = true;\r\n      const bid = this.getBusinessId();\r\n\r\n      if (!bid) {\r\n        alert('å•†å®¶ä¿¡æ¯ä¸å®Œæ•´');\r\n        this.statusLoading = false;\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const newStatus = !this.isOnline;\r\n\r\n        // æ³¨æ„ï¼šéœ€è¦åç«¯å®ç°åœ¨çº¿çŠ¶æ€æ›´æ–°æ¥å£\r\n        // æš‚æ—¶ç›´æ¥æ›´æ–°å‰ç«¯çŠ¶æ€\r\n        this.isOnline = newStatus;\r\n        alert(`å·²è®¾ä¸º${newStatus ? 'åœ¨çº¿' : 'ç¦»çº¿'}çŠ¶æ€`);\r\n      } catch (error) {\r\n        console.error('åˆ‡æ¢åœ¨çº¿çŠ¶æ€å¤±è´¥:', error);\r\n        alert('çŠ¶æ€åˆ‡æ¢å¤±è´¥ï¼Œè¯·é‡è¯•');\r\n      } finally {\r\n        this.statusLoading = false;\r\n      }\r\n    },\r\n\r\n    closeRechargeModal() {\r\n      this.showRechargeModal = false;\r\n      this.selectedRecharge = null;\r\n    },\r\n\r\n    async handleRecharge() {\r\n      if (!this.selectedRecharge) {\r\n        alert('è¯·é€‰æ‹©å……å€¼é‡‘é¢');\r\n        return;\r\n      }\r\n\r\n      this.loading = true;\r\n      const bid = this.getBusinessId();\r\n      const option = this.rechargeOptions.find(o => o.id === this.selectedRecharge);\r\n\r\n      try {\r\n        // æ¨¡æ‹Ÿæ”¯ä»˜è¿‡ç¨‹\r\n        await new Promise(resolve => setTimeout(resolve, 1000));\r\n\r\n        // è°ƒç”¨å……å€¼æ¥å£\r\n        // æ³¨æ„ï¼šè¿™é‡Œä½¿ç”¨ apiConfig.business.rechargePoints\r\n        // å¦‚æœåç«¯æ²¡æœ‰å®ç°ï¼Œå¯èƒ½éœ€è¦ fallback åˆ°æœ¬åœ°å­˜å‚¨\r\n        try {\r\n            if (apiConfig.business.rechargePoints) {\r\n                const response = await axios.post(apiConfig.business.rechargePoints(bid), {\r\n                    points: option.points,\r\n                    amount: option.price\r\n                });\r\n                \r\n                if (response.data.code === 1) {\r\n                    // å……å€¼æˆåŠŸ\r\n                } else {\r\n                    throw new Error(response.data.message || 'å……å€¼å¤±è´¥');\r\n                }\r\n            } else {\r\n                throw new Error('æ¥å£æœªå®šä¹‰');\r\n            }\r\n        } catch (apiError) {\r\n            console.warn('å……å€¼æ¥å£è°ƒç”¨å¤±è´¥ï¼Œä½¿ç”¨æœ¬åœ°æ¨¡æ‹Ÿ:', apiError);\r\n            // æœ¬åœ°æ¨¡æ‹Ÿå……å€¼æˆåŠŸ\r\n        }\r\n\r\n        // æ›´æ–°æœ¬åœ°ç§¯åˆ†\r\n        const currentPoints = this.businessInfo.points || 0;\r\n        const newPoints = currentPoints + option.points;\r\n        \r\n        this.businessInfo.points = newPoints;\r\n        this.businessInfo = { ...this.businessInfo }; // è§¦å‘å“åº”å¼æ›´æ–°\r\n        \r\n        // æ›´æ–°localStorage\r\n        const localInfo = JSON.parse(localStorage.getItem('businessInfo')) || {};\r\n        localInfo.points = newPoints;\r\n        localStorage.setItem('businessInfo', JSON.stringify(localInfo));\r\n\r\n        alert(`å……å€¼æˆåŠŸï¼è·å¾— ${option.points} ç§¯åˆ†`);\r\n        this.closeRechargeModal();\r\n        \r\n      } catch (error) {\r\n        console.error('å……å€¼å¤±è´¥:', error);\r\n        alert('å……å€¼å¤±è´¥ï¼Œè¯·é‡è¯•');\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n\r\n    editProfile() {\r\n      this.editForm = { ...this.businessInfo };\r\n      this.showEditModal = true;\r\n    },\r\n\r\n    closeEditModal() {\r\n      this.showEditModal = false;\r\n      this.editForm = {};\r\n      this.loading = false;\r\n    },\r\n\r\n    closePasswordModal() {\r\n      this.showPasswordModal = false;\r\n      this.passwordData = {\r\n        current_password: '',\r\n        new_password: '',\r\n        confirm_password: ''\r\n      };\r\n      this.loading = false;\r\n    },\r\n\r\n    async updateProfile() {\r\n      if (!this.validateEditForm()) {\r\n        return;\r\n      }\r\n\r\n      this.loading = true;\r\n      const bid = this.getBusinessId();\r\n\r\n      if (!bid) {\r\n        alert('å•†å®¶ä¿¡æ¯ä¸å®Œæ•´ï¼Œè¯·é‡æ–°ç™»å½•');\r\n        this.loading = false;\r\n        this.$router.push('/business/login');\r\n        return;\r\n      }\r\n\r\n      try {\r\n        console.log('å¼€å§‹æ›´æ–°å•†å®¶ä¿¡æ¯:', new Date().toISOString());\r\n        \r\n        // æ„å»ºç¬¦åˆåç«¯ BusinessUpdateRequest çš„è¯·æ±‚ä½“\r\n        // ä¼˜å…ˆä½¿ç”¨å‰ç«¯æ˜ å°„çš„å­—æ®µï¼Œå¦‚æœä¸ºç©ºåˆ™æ£€æŸ¥æ˜¯å¦ä¿ç•™äº†åç«¯åŸå§‹å­—æ®µ\r\n        const updateData = {\r\n            bname: this.editForm.bname,\r\n            contactPerson: this.editForm.contact || this.editForm.contactPerson, \r\n            contactPhone: this.editForm.phone || this.editForm.contactPhone,    \r\n            contactEmail: this.editForm.email || this.editForm.contactEmail,    \r\n            address: this.editForm.address,\r\n            description: this.editForm.description\r\n        };\r\n\r\n        const response = await axios.put(apiConfig.business.updateProfile(bid), updateData);\r\n\r\n        if (response.data.code === 1) {\r\n            // æ›´æ–°æœ¬åœ°å­˜å‚¨å’Œæ˜¾ç¤ºï¼ˆä¿æŒå‰ç«¯å­—æ®µåä¸€è‡´ï¼‰\r\n            const existingInfo = JSON.parse(localStorage.getItem('businessInfo')) || {};\r\n            const updatedInfo = {\r\n                ...existingInfo,\r\n                ...this.editForm, // è¿™é‡Œä½¿ç”¨çš„æ˜¯å‰ç«¯çš„å­—æ®µå (contact, phone, emailç­‰)\r\n                // åŒæ—¶ä¹Ÿæ›´æ–°åç«¯çš„å­—æ®µåï¼Œä»¥å¤‡ä¸‹æ¬¡ä½¿ç”¨\r\n                contactPerson: updateData.contactPerson,\r\n                contactPhone: updateData.contactPhone,\r\n                contactEmail: updateData.contactEmail,\r\n                bid: bid\r\n            };\r\n            \r\n            localStorage.setItem('businessInfo', JSON.stringify(updatedInfo));\r\n            this.businessInfo = { ...updatedInfo };\r\n            \r\n            this.closeEditModal();\r\n            alert('å•†å®¶ä¿¡æ¯æ›´æ–°æˆåŠŸï¼');\r\n        } else {\r\n            alert('æ›´æ–°å¤±è´¥ï¼š' + (response.data.message || 'æœªçŸ¥é”™è¯¯'));\r\n        }\r\n      } catch (error) {\r\n        console.error('æ›´æ–°å•†å®¶ä¿¡æ¯å¼‚å¸¸:', error);\r\n        // å°è¯•è·å–æ›´è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯\r\n        const serverMsg = error.response?.data?.message || error.message || 'ç½‘ç»œé”™è¯¯';\r\n        alert('æ›´æ–°å¤±è´¥ï¼š' + serverMsg);\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n\r\n    validateEditForm() {\r\n      if (!this.editForm.bname || !this.editForm.bname.trim()) {\r\n        alert('è¯·è¾“å…¥å•†å®¶åç§°');\r\n        return false;\r\n      }\r\n\r\n      if (this.editForm.phone && !/^1[3-9]\\d{9}$/.test(this.editForm.phone)) {\r\n        alert('è¯·è¾“å…¥æœ‰æ•ˆçš„æ‰‹æœºå·ç ');\r\n        return false;\r\n      }\r\n\r\n      if (this.editForm.email && !/\\S+@\\S+\\.\\S+/.test(this.editForm.email)) {\r\n        alert('è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€');\r\n        return false;\r\n      }\r\n\r\n      return true;\r\n    },\r\n\r\n    async changePassword() {\r\n      if (!this.validatePassword()) {\r\n        return;\r\n      }\r\n\r\n      this.loading = true;\r\n      const bid = this.getBusinessId();\r\n\r\n      if (!bid) {\r\n        alert('å•†å®¶ä¿¡æ¯ä¸å®Œæ•´ï¼Œè¯·é‡æ–°ç™»å½•');\r\n        this.loading = false;\r\n        this.$router.push('/business/login');\r\n        return;\r\n      }\r\n\r\n      try {\r\n        console.log('å¼€å§‹ä¿®æ”¹å¯†ç :', new Date().toISOString());\r\n\r\n        // æ„å»ºç¬¦åˆåç«¯ PasswordUpdateRequest çš„è¯·æ±‚ä½“\r\n        const updateData = {\r\n            oldPassword: this.passwordData.current_password,\r\n            newPassword: this.passwordData.new_password\r\n        };\r\n\r\n        const response = await axios.put(apiConfig.business.changePassword(bid), updateData);\r\n        \r\n        if (response.data.code === 1) {\r\n            this.closePasswordModal();\r\n            alert('å¯†ç ä¿®æ”¹æˆåŠŸï¼è¯·é‡æ–°ç™»å½•ã€‚');\r\n            this.$router.push('/business/login');\r\n        } else {\r\n            alert('å¯†ç ä¿®æ”¹å¤±è´¥ï¼š' + (response.data.message || 'æœªçŸ¥é”™è¯¯'));\r\n        }\r\n      } catch (error) {\r\n        console.error('ä¿®æ”¹å¯†ç å¼‚å¸¸:', error);\r\n        alert('å¯†ç ä¿®æ”¹å¤±è´¥ï¼š' + (error.message || 'ç½‘ç»œé”™è¯¯'));\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n\r\n    validatePassword() {\r\n      if (!this.passwordData.current_password) {\r\n        alert('è¯·è¾“å…¥å½“å‰å¯†ç ');\r\n        return false;\r\n      }\r\n\r\n      if (!this.passwordData.new_password) {\r\n        alert('è¯·è¾“å…¥æ–°å¯†ç ');\r\n        return false;\r\n      }\r\n\r\n      if (this.passwordData.new_password.length < 6) {\r\n        alert('æ–°å¯†ç é•¿åº¦ä¸èƒ½å°‘äº6ä½');\r\n        return false;\r\n      }\r\n\r\n      if (this.passwordData.new_password !== this.passwordData.confirm_password) {\r\n        alert('ä¸¤æ¬¡è¾“å…¥çš„æ–°å¯†ç ä¸ä¸€è‡´');\r\n        return false;\r\n      }\r\n\r\n      return true;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.business-profile {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 24px;\r\n}\r\n\r\n.stat-item.highlight {\r\n  background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);\r\n  border-color: #bae6fd;\r\n}\r\n\r\n.btn-recharge {\r\n  margin-left: auto;\r\n  padding: 6px 16px;\r\n  background: linear-gradient(135deg, #0ea5e9, #0284c7);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-weight: 600;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.btn-recharge:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 12px rgba(14, 165, 233, 0.3);\r\n}\r\n\r\n.recharge-options {\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  gap: 16px;\r\n  margin-bottom: 24px;\r\n}\r\n\r\n.recharge-option {\r\n  border: 2px solid #e2e8f0;\r\n  padding: 20px;\r\n  text-align: center;\r\n  cursor: pointer;\r\n  border-radius: 8px;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.recharge-option:hover {\r\n  border-color: #bae6fd;\r\n  background: #f0f9ff;\r\n}\r\n\r\n.recharge-option.active {\r\n  border-color: #0ea5e9;\r\n  background: #e0f2fe;\r\n  box-shadow: 0 0 0 2px rgba(14, 165, 233, 0.2);\r\n}\r\n\r\n.option-points {\r\n  font-size: 18px;\r\n  font-weight: 700;\r\n  color: #0f172a;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.option-price {\r\n  color: #0ea5e9;\r\n  font-weight: 600;\r\n}\r\n\r\n/* é¡µé¢å¤´éƒ¨ */\r\n.page-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.page-header h2 {\r\n  margin: 0;\r\n  font-size: 24px;\r\n  color: #2d3748;\r\n  font-weight: 700;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n\r\n.btn-edit-profile {\r\n    padding: 10px 20px;\r\n    background: linear-gradient(135deg, #667eea, #764ba2);\r\n    color: white;\r\n    border: none;\r\n    border-radius: 0;\r\n    cursor: pointer;\r\n    display: inline-flex;\r\n    align-items: center;\r\n    gap: 8px;\r\n    font-weight: 500;\r\n    transition: all 0.3s;\r\n    box-shadow: 0 4px 6px rgba(102, 126, 234, 0.2);\r\n  }\r\n\r\n.btn-edit-profile:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 6px 12px rgba(102, 126, 234, 0.3);\r\n}\r\n\r\n.edit-icon {\r\n  font-size: 16px;\r\n}\r\n\r\n/* å•†å®¶ä¿¡æ¯å¡ç‰‡ */\r\n.profile-card {\r\n    background: white;\r\n    border-radius: 0;\r\n    padding: 32px;\r\n    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);\r\n    border: 1px solid #e2e8f0;\r\n    transition: all 0.3s;\r\n  }\r\n\r\n.profile-card:hover {\r\n  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12);\r\n}\r\n\r\n/* å¤´éƒ¨åŒºåŸŸ */\r\n.profile-header {\r\n  display: flex;\r\n  gap: 28px;\r\n  align-items: center;\r\n  padding-bottom: 28px;\r\n  margin-bottom: 28px;\r\n  border-bottom: 1px solid #e2e8f0;\r\n}\r\n\r\n/* å¤´åƒåŒºåŸŸ */\r\n.profile-avatar {\r\n  position: relative;\r\n  width: 100px;\r\n  height: 100px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.avatar-text {\r\n    width: 100%;\r\n    height: 100%;\r\n    border-radius: 0;\r\n    background: linear-gradient(135deg, #667eea, #764ba2);\r\n    color: white;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    font-size: 40px;\r\n    font-weight: bold;\r\n    border: 4px solid white;\r\n    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);\r\n  }\r\n\r\n/* åœ¨çº¿çŠ¶æ€æŒ‡ç¤ºå™¨ */\r\n.profile-online-indicator {\r\n    position: absolute;\r\n    bottom: 5px;\r\n    right: 5px;\r\n    width: 20px;\r\n    height: 20px;\r\n    border-radius: 0;\r\n    border: 3px solid white;\r\n    transition: all 0.3s;\r\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\r\n  }\r\n\r\n.profile-online-indicator.status-online {\r\n  background: linear-gradient(135deg, #48bb78, #38a169);\r\n  animation: pulse 2s infinite;\r\n}\r\n\r\n.profile-online-indicator.status-offline {\r\n  background: linear-gradient(135deg, #a0aec0, #718096);\r\n}\r\n\r\n@keyframes pulse {\r\n  0% { box-shadow: 0 0 0 0 rgba(72, 187, 120, 0.4); }\r\n  70% { box-shadow: 0 0 0 10px rgba(72, 187, 120, 0); }\r\n  100% { box-shadow: 0 0 0 0 rgba(72, 187, 120, 0); }\r\n}\r\n\r\n/* å•†å®¶ä¿¡æ¯ */\r\n.profile-info {\r\n  flex: 1;\r\n  min-width: 0;\r\n}\r\n\r\n.profile-info h3 {\r\n  margin: 0 0 8px 0;\r\n  font-size: 28px;\r\n  color: #2d3748;\r\n  font-weight: 700;\r\n  line-height: 1.2;\r\n}\r\n\r\n.profile-id {\r\n    font-size: 14px;\r\n    color: #718096;\r\n    margin-bottom: 12px;\r\n    padding: 4px 12px;\r\n    background: #f8fafc;\r\n    border-radius: 0;\r\n    display: inline-block;\r\n  }\r\n\r\n.profile-status {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 16px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n/* çŠ¶æ€å¾½ç«  */\r\n.status-badge {\r\n    padding: 8px 16px;\r\n    border-radius: 0;\r\n    font-size: 14px;\r\n    font-weight: 600;\r\n    display: inline-flex;\r\n    align-items: center;\r\n    gap: 8px;\r\n    transition: all 0.3s;\r\n  }\r\n\r\n.status-badge.status-online {\r\n  background: linear-gradient(135deg, rgba(72, 187, 120, 0.1), rgba(56, 161, 105, 0.1));\r\n  color: #22543d;\r\n  border: 1px solid rgba(72, 187, 120, 0.3);\r\n}\r\n\r\n.status-badge.status-offline {\r\n  background: linear-gradient(135deg, rgba(160, 174, 192, 0.1), rgba(113, 128, 150, 0.1));\r\n  color: #4a5568;\r\n  border: 1px solid rgba(160, 174, 192, 0.3);\r\n}\r\n\r\n.status-dot {\r\n    width: 8px;\r\n    height: 8px;\r\n    border-radius: 0;\r\n  }\r\n\r\n.status-badge.status-online .status-dot {\r\n  background: #48bb78;\r\n  animation: blink 2s infinite;\r\n}\r\n\r\n.status-badge.status-offline .status-dot {\r\n  background: #a0aec0;\r\n}\r\n\r\n@keyframes blink {\r\n  0%, 100% { opacity: 1; }\r\n  50% { opacity: 0.5; }\r\n}\r\n\r\n.join-date {\r\n    color: #718096;\r\n    font-size: 14px;\r\n    padding: 8px 12px;\r\n    background: #f8fafc;\r\n    border-radius: 0;\r\n  }\r\n\r\n.btn-status-toggle {\r\n    padding: 8px 16px;\r\n    background: #e2e8f0;\r\n    color: #4a5568;\r\n    border: none;\r\n    border-radius: 0;\r\n    cursor: pointer;\r\n    font-size: 13px;\r\n    font-weight: 500;\r\n    transition: all 0.3s;\r\n  }\r\n\r\n.btn-status-toggle:hover {\r\n  background: #cbd5e0;\r\n}\r\n\r\n/* è¯¦æƒ…åŒºåŸŸ */\r\n.profile-details {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 32px;\r\n}\r\n\r\n.detail-section {\r\n    padding: 20px;\r\n    background: #f8fafc;\r\n    border-radius: 0;\r\n    border-left: 4px solid #667eea;\r\n  }\r\n\r\n.detail-section h4 {\r\n  margin: 0 0 20px 0;\r\n  font-size: 18px;\r\n  color: #2d3748;\r\n  font-weight: 600;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n\r\n.section-icon {\r\n  font-size: 20px;\r\n}\r\n\r\n/* è¯¦æƒ…ç½‘æ ¼ */\r\n.detail-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\r\n  gap: 20px;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .detail-grid {\r\n    grid-template-columns: 1fr;\r\n  }\r\n}\r\n\r\n.detail-item {\r\n    display: flex;\r\n    align-items: flex-start;\r\n    gap: 12px;\r\n    padding: 12px;\r\n    background: white;\r\n    border-radius: 0;\r\n    border: 1px solid #e2e8f0;\r\n  }\r\n\r\n.detail-item.full-width {\r\n  grid-column: 1 / -1;\r\n}\r\n\r\n.detail-item label {\r\n  font-size: 14px;\r\n  color: #718096;\r\n  min-width: 100px;\r\n  line-height: 1.6;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n}\r\n\r\n.item-icon {\r\n  font-size: 16px;\r\n}\r\n\r\n.item-value {\r\n  font-size: 15px;\r\n  color: #2d3748;\r\n  line-height: 1.6;\r\n  flex: 1;\r\n}\r\n\r\n.contact-link {\r\n  color: #667eea;\r\n  text-decoration: none;\r\n  transition: color 0.3s;\r\n}\r\n\r\n.contact-link:hover {\r\n  color: #5a67d8;\r\n  text-decoration: underline;\r\n}\r\n\r\n/* å°å‹çŠ¶æ€å¾½ç«  */\r\n.status-badge-small {\r\n    padding: 6px 12px;\r\n    border-radius: 0;\r\n    font-size: 13px;\r\n    font-weight: 500;\r\n    display: inline-flex;\r\n    align-items: center;\r\n    gap: 6px;\r\n  }\r\n\r\n.status-badge-small.status-online {\r\n  background: rgba(72, 187, 120, 0.1);\r\n  color: #22543d;\r\n  border: 1px solid rgba(72, 187, 120, 0.2);\r\n}\r\n\r\n.status-badge-small.status-offline {\r\n  background: rgba(160, 174, 192, 0.1);\r\n  color: #4a5568;\r\n  border: 1px solid rgba(160, 174, 192, 0.2);\r\n}\r\n\r\n.status-dot-small {\r\n    width: 6px;\r\n    height: 6px;\r\n    border-radius: 0;\r\n  }\r\n\r\n.status-badge-small.status-online .status-dot-small {\r\n  background: #48bb78;\r\n}\r\n\r\n.status-badge-small.status-offline .status-dot-small {\r\n  background: #a0aec0;\r\n}\r\n\r\n/* ç»Ÿè®¡ç½‘æ ¼ */\r\n.stats-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\r\n  gap: 20px;\r\n}\r\n\r\n.stat-item {\r\n    background: white;\r\n    border-radius: 0;\r\n    padding: 20px;\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 15px;\r\n    border: 1px solid #e2e8f0;\r\n    transition: all 0.3s;\r\n  }\r\n\r\n.stat-item:hover {\r\n  transform: translateY(-4px);\r\n  box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.stat-icon {\r\n    width: 50px;\r\n    height: 50px;\r\n    border-radius: 0;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    font-size: 24px;\r\n    background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));\r\n    color: #667eea;\r\n  }\r\n\r\n.stat-content {\r\n  flex: 1;\r\n}\r\n\r\n.stat-value {\r\n  font-size: 24px;\r\n  font-weight: 700;\r\n  color: #2d3748;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.stat-label {\r\n  font-size: 14px;\r\n  color: #718096;\r\n}\r\n\r\n/* æè¿°å†…å®¹ */\r\n.description-content {\r\n    padding: 20px;\r\n    background: white;\r\n    border-radius: 0;\r\n    color: #718096;\r\n    line-height: 1.8;\r\n    white-space: pre-line;\r\n    border: 1px solid #e2e8f0;\r\n  }\r\n\r\n/* è´¦å·å®‰å…¨å¡ç‰‡ */\r\n.security-card {\r\n    background: white;\r\n    border-radius: 0;\r\n    padding: 32px;\r\n    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);\r\n    border: 1px solid #e2e8f0;\r\n  }\r\n\r\n.security-card h4 {\r\n  margin: 0 0 24px 0;\r\n  font-size: 18px;\r\n  color: #2d3748;\r\n  font-weight: 600;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n\r\n.security-info {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n}\r\n\r\n.security-item {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 20px;\r\n    padding: 20px;\r\n    background: #f8fafc;\r\n    border-radius: 0;\r\n    border: 1px solid #e2e8f0;\r\n  }\r\n\r\n.security-icon {\r\n    width: 50px;\r\n    height: 50px;\r\n    border-radius: 0;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    font-size: 24px;\r\n    background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));\r\n    color: #667eea;\r\n  }\r\n\r\n.security-content {\r\n  flex: 1;\r\n}\r\n\r\n.security-title {\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  color: #2d3748;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.security-desc {\r\n  font-size: 14px;\r\n  color: #718096;\r\n}\r\n\r\n.text-online {\r\n  color: #48bb78;\r\n  font-weight: 500;\r\n}\r\n\r\n.text-offline {\r\n  color: #a0aec0;\r\n  font-weight: 500;\r\n}\r\n\r\n.btn-change-password {\r\n    padding: 10px 20px;\r\n    background: #667eea;\r\n    color: white;\r\n    border: none;\r\n    border-radius: 0;\r\n    cursor: pointer;\r\n    font-size: 14px;\r\n    font-weight: 500;\r\n    transition: all 0.3s;\r\n    min-width: 100px;\r\n  }\r\n\r\n.btn-change-password:hover {\r\n  background: #5a67d8;\r\n  transform: translateY(-2px);\r\n}\r\n\r\n/* æ¨¡æ€æ¡†æ ·å¼ */\r\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 1000;\r\n  padding: 20px;\r\n  backdrop-filter: blur(5px);\r\n}\r\n\r\n.modal {\r\n    background: white;\r\n    width: 100%;\r\n    max-width: 600px;\r\n    max-height: 90vh;\r\n    overflow-y: auto;\r\n    border-radius: 0;\r\n    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\r\n    animation: modalFadeIn 0.3s ease-out;\r\n  }\r\n\r\n@keyframes modalFadeIn {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(-20px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n.modal-header {\r\n  padding: 24px;\r\n  border-bottom: 1px solid #e2e8f0;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  background: linear-gradient(135deg, #667eea, #764ba2);\r\n}\r\n\r\n.modal-header h3 {\r\n  margin: 0;\r\n  font-size: 20px;\r\n  color: white;\r\n  font-weight: 600;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n\r\n.modal-icon {\r\n  font-size: 20px;\r\n}\r\n\r\n.modal-close {\r\n    background: none;\r\n    border: none;\r\n    font-size: 28px;\r\n    color: rgba(255, 255, 255, 0.8);\r\n    cursor: pointer;\r\n    width: 36px;\r\n    height: 36px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    border-radius: 0;\r\n    transition: all 0.3s;\r\n  }\r\n\r\n.modal-close:hover {\r\n  background: rgba(255, 255, 255, 0.1);\r\n  color: white;\r\n}\r\n\r\n.modal-body {\r\n  padding: 24px;\r\n}\r\n\r\n/* è¡¨å•æ ·å¼ */\r\n.form-group {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.form-group label {\r\n  display: block;\r\n  margin-bottom: 8px;\r\n  color: #4a5568;\r\n  font-weight: 500;\r\n  font-size: 14px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.form-icon {\r\n  font-size: 16px;\r\n}\r\n\r\n.form-input {\r\n    width: 100%;\r\n    padding: 14px 16px;\r\n    border: 2px solid #e2e8f0;\r\n    border-radius: 0;\r\n    font-size: 15px;\r\n    transition: all 0.3s;\r\n    background: #f8fafc;\r\n  }\r\n\r\n.form-input:focus {\r\n  outline: none;\r\n  border-color: #667eea;\r\n  background: white;\r\n  box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);\r\n}\r\n\r\n.form-textarea {\r\n    width: 100%;\r\n    padding: 14px 16px;\r\n    border: 2px solid #e2e8f0;\r\n    border-radius: 0;\r\n    font-size: 15px;\r\n    transition: all 0.3s;\r\n    background: #f8fafc;\r\n    resize: vertical;\r\n    min-height: 100px;\r\n    font-family: inherit;\r\n  }\r\n\r\n.form-textarea:focus {\r\n  outline: none;\r\n  border-color: #667eea;\r\n  background: white;\r\n  box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);\r\n}\r\n\r\n.form-row {\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  gap: 20px;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .form-row {\r\n    grid-template-columns: 1fr;\r\n  }\r\n}\r\n\r\n.password-hint {\r\n  font-size: 12px;\r\n  color: #718096;\r\n  margin-top: 4px;\r\n}\r\n\r\n.form-actions {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 12px;\r\n  margin-top: 30px;\r\n  padding-top: 20px;\r\n  border-top: 1px solid #e2e8f0;\r\n}\r\n\r\n.btn-cancel {\r\n    padding: 12px 24px;\r\n    border: 2px solid #e2e8f0;\r\n    background: white;\r\n    color: #4a5568;\r\n    border-radius: 0;\r\n    cursor: pointer;\r\n    font-size: 14px;\r\n    font-weight: 500;\r\n    transition: all 0.3s;\r\n  }\r\n\r\n.btn-cancel:hover {\r\n  background: #f7fafc;\r\n  border-color: #cbd5e0;\r\n}\r\n\r\n.btn-submit {\r\n    padding: 12px 32px;\r\n    background: linear-gradient(135deg, #667eea, #764ba2);\r\n    color: white;\r\n    border: none;\r\n    border-radius: 0;\r\n    cursor: pointer;\r\n    font-size: 14px;\r\n    font-weight: 500;\r\n    transition: all 0.3s;\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 8px;\r\n    position: relative;\r\n    overflow: hidden;\r\n  }\r\n\r\n.btn-submit:hover:not(:disabled) {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);\r\n}\r\n\r\n.btn-submit:disabled {\r\n  opacity: 0.6;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.loading-spinner {\r\n    width: 16px;\r\n    height: 16px;\r\n    border: 2px solid rgba(255, 255, 255, 0.3);\r\n    border-top-color: white;\r\n    border-radius: 0;\r\n    animation: spin 1s linear infinite;\r\n  }\r\n\r\n@keyframes spin {\r\n  to { transform: rotate(360deg); }\r\n}\r\n\r\n/* å“åº”å¼è®¾è®¡ */\r\n@media (max-width: 768px) {\r\n  .page-header {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    gap: 16px;\r\n  }\r\n\r\n  .profile-header {\r\n    flex-direction: column;\r\n    text-align: center;\r\n    gap: 20px;\r\n  }\r\n\r\n  .profile-avatar {\r\n    width: 80px;\r\n    height: 80px;\r\n  }\r\n\r\n  .avatar-text {\r\n    font-size: 32px;\r\n  }\r\n\r\n  .profile-info h3 {\r\n    font-size: 24px;\r\n  }\r\n\r\n  .profile-status {\r\n    flex-direction: column;\r\n    align-items: center;\r\n    gap: 12px;\r\n  }\r\n\r\n  .stats-grid {\r\n    grid-template-columns: repeat(2, 1fr);\r\n  }\r\n\r\n  .security-item {\r\n    flex-direction: column;\r\n    text-align: center;\r\n    gap: 15px;\r\n  }\r\n\r\n  .form-actions {\r\n    flex-direction: column;\r\n  }\r\n\r\n  .btn-cancel, .btn-submit {\r\n    width: 100%;\r\n  }\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .profile-card, .security-card {\r\n    padding: 20px;\r\n  }\r\n\r\n  .stats-grid {\r\n    grid-template-columns: 1fr;\r\n  }\r\n\r\n  .modal-header h3 {\r\n    font-size: 18px;\r\n  }\r\n\r\n  .modal-body {\r\n    padding: 20px;\r\n  }\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}